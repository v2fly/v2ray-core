(function(e){function t(t){for(var s,a,r=t[0],l=t[1],c=t[2],m=0,d=[];m<r.length;m++)a=r[m],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],s=!0,r=1;r<n.length;r++){var l=n[r];0!==o[l]&&(s=!1)}s&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},o={app:0},i=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var s=n("85ec"),o=n.n(s);o.a},"0437":function(e,t,n){},"0502":function(e,t,n){"use strict";var s=n("1348"),o=n.n(s);o.a},"0ca0":function(e,t,n){},1348:function(e,t,n){},"18a9":function(e,t,n){},"1b76":function(e,t,n){},"1d2c":function(e,t,n){"use strict";var s=n("40e2"),o=n.n(s);o.a},"1d61":function(e,t,n){},"1da6":function(e,t,n){"use strict";var s=n("51e8"),o=n.n(s);o.a},"1e4b":function(e,t,n){},"220e":function(e,t,n){"use strict";var s=n("3a7a"),o=n.n(s);o.a},"2be4":function(e,t,n){},"2e82":function(e,t,n){"use strict";var s=n("1b76"),o=n.n(s);o.a},"2ebe":function(e,t,n){},"3a7a":function(e,t,n){},"40e2":function(e,t,n){},"49d9":function(e,t,n){"use strict";var s=n("a205"),o=n.n(s);o.a},"4bfc":function(e,t,n){"use strict";var s=n("f81d"),o=n.n(s);o.a},"4ca3":function(e,t,n){},"504e":function(e,t,n){"use strict";var s=n("9ff4"),o=n.n(s);o.a},5140:function(e,t,n){},"51e8":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("el-tabs",{ref:"tabs",attrs:{type:"border-card"},on:{"tab-click":e.tabChanged},model:{value:e.tagValue,callback:function(t){e.tagValue=t},expression:"tagValue"}},[n("el-tab-pane",{attrs:{label:"参数配置",name:"config"}},[n("Home")],1),n("el-tab-pane",{attrs:{label:"PAC配置",name:"pac"}},[n("PacConfig")],1),n("el-tab-pane",{attrs:{label:"流量监控",name:"trafficMonitor"}},[n("TrafficMonitor",{ref:"trafficMonitor",attrs:{"data-tab-content-name":"trafficMonitor"}})],1),n("el-tab-pane",{attrs:{label:"访问日志",name:"accessLog"}},[n("LogViewer",{ref:"accessLog",attrs:{"log-type":"access","data-tab-content-name":"accessLog"}})],1),n("el-tab-pane",{attrs:{label:"普通日志",name:"errorLog"}},[n("LogViewer",{ref:"errorLog",attrs:{"log-type":"error","data-tab-content-name":"errorLog"}})],1)],1),n("el-dialog",{attrs:{visible:e.dialogVisible,title:"登录",center:"",width:"400px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{model:{value:e.loginForm.userName,callback:function(t){e.$set(e.loginForm,"userName",t)},expression:"loginForm.userName"}})],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关闭")]),n("el-button",{attrs:{type:"primary"},on:{click:e.doLogin}},[e._v("登录")])],1)],1)],1)},i=[],a=(n("4160"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("el-row",[n("el-col",[n("el-form",{attrs:{inline:!0}},[n("el-form-item",{attrs:{label:"API接口地址:"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"api 接口地址"},model:{value:e.baseURL,callback:function(t){e.baseURL=t},expression:"baseURL"}})],1),n("el-form-item",[n("el-button",{on:{click:e.updateBaseURL}},[e._v("确定")])],1)],1)],1)],1),n("el-row",[n("el-col",[n("el-button",{on:{click:e.loadSetting}},[e._v("加载")]),n("el-button",{on:{click:e.showSetting}},[e._v("查看")]),n("el-button",{on:{click:e.saveSetting}},[e._v("保存")]),n("el-button",{on:{click:e.reloadServer}},[e._v("reload")]),n("el-button-group",[n("el-button",{attrs:{icon:"el-icon-arrow-up"},on:{click:e.foldAllSetting}},[e._v("折叠")]),n("el-button",{attrs:{icon:"el-icon-arrow-down"},on:{click:e.unfoldAllSetting}},[e._v("展开")])],1)],1)],1),n("LogSetting",{attrs:{"data-setting":"1"},on:{change:e.logChanged},model:{value:e.sForm.log,callback:function(t){e.$set(e.sForm,"log",t)},expression:"sForm.log"}}),n("ApiSetting",{attrs:{"data-setting":"1"},model:{value:e.sForm.api,callback:function(t){e.$set(e.sForm,"api",t)},expression:"sForm.api"}}),n("AdminSetting",{attrs:{"data-setting":"1"},model:{value:e.sForm.admin,callback:function(t){e.$set(e.sForm,"admin",t)},expression:"sForm.admin"}}),n("DnsSetting",{attrs:{"data-setting":"1"},model:{value:e.sForm.dns,callback:function(t){e.$set(e.sForm,"dns",t)},expression:"sForm.dns"}}),n("PolicyObject",{attrs:{"data-setting":"1"},model:{value:e.sForm.policy,callback:function(t){e.$set(e.sForm,"policy",t)},expression:"sForm.policy"}}),n("Reverse",{attrs:{"data-setting":"1"},model:{value:e.sForm.reverse,callback:function(t){e.$set(e.sForm,"reverse",t)},expression:"sForm.reverse"}}),n("Inbounds",{attrs:{"data-setting":"1"},model:{value:e.sForm.inbounds,callback:function(t){e.$set(e.sForm,"inbounds",t)},expression:"sForm.inbounds"}}),n("Outbounds",{attrs:{"data-setting":"1"},model:{value:e.sForm.outbounds,callback:function(t){e.$set(e.sForm,"outbounds",t)},expression:"sForm.outbounds"}}),n("Routing",{attrs:{"data-setting":"1"},model:{value:e.sForm.routing,callback:function(t){e.$set(e.sForm,"routing",t)},expression:"sForm.routing"}}),n("GlobalTransport",{attrs:{"data-setting":"1"},model:{value:e.sForm.transport,callback:function(t){e.$set(e.sForm,"transport",t)},expression:"sForm.transport"}}),n("el-dialog",{attrs:{visible:e.dialogVisible,title:"配置信息",center:"",width:"100%",fullscreen:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-input",{attrs:{type:"textarea",placeholder:"placeholder",rows:"10",autosize:{minRows:10,maxRows:30}},model:{value:e.configJson,callback:function(t){e.configJson=t},expression:"configJson"}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关闭")]),n("el-button",{attrs:{type:"primary"},on:{click:e.updateSetting}},[e._v("更新配置")])],1)],1)],1)}),r=[],l=(n("b0c0"),n("96cf"),n("1da1")),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"日志设置","show-enable":!1}},[n("el-form",{ref:"form",attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"访问日志"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",[n("div",{attrs:{slot:"content"},slot:"content"},[e._v('访问日志的文件地址，其值是一个合法的文件地址，如"/tmp/v2ray/_access.log"（Linux）或者"C:\\\\Temp\\\\v2ray\\\\_access.log"（Windows）。 '),n("br"),e._v("当此项不指定或为空值时，表示将日志输出至 stdout。V2Ray 4.20 加入了特殊值none，即关闭 access log。")]),n("label",[e._v("访问日志")])])]},proxy:!0}])},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.access,callback:function(t){e.$set(e.sForm,"access",t)},expression:"sForm.access"}})],1),n("el-form-item",{attrs:{label:"错误日志"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",[n("div",{attrs:{slot:"content"},slot:"content"},[e._v('错误日志的文件地址，其值是一个合法的文件地址，如"/tmp/v2ray/_error.log"（Linux）或者"C:\\\\Temp\\\\v2ray\\\\_error.log"（Windows）。 '),n("br"),e._v('当此项不指定或为空值时，表示将日志输出至 stdout。V2Ray 4.20 加入了特殊值none，即关闭 error log（跟loglevel: "none"等价）。')]),n("label",[e._v("错误日志")])])]},proxy:!0}])},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.error,callback:function(t){e.$set(e.sForm,"error",t)},expression:"sForm.error"}})],1),n("el-form-item",{attrs:{label:"日志级别"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"请选择日志级别"},model:{value:e.sForm.loglevel,callback:function(t){e.$set(e.sForm,"loglevel",t)},expression:"sForm.loglevel"}},e._l(e.levels,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1)],1)},u=[],m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"setting-card",attrs:{"body-style":e.bodyStyle}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},on:{dblclick:e.showSettingClick},slot:"header"},[n("span",[e._v(e._s(e.title))]),e.showEnable?n("el-switch",{on:{change:e.enableChanged},model:{value:e.enableSettingData,callback:function(t){e.enableSettingData=t},expression:"enableSettingData"}}):e._e(),n("div",{staticStyle:{float:"right",padding:"3px 0"}},[e._t("header-buttons"),n("i",{class:{"el-icon-arrow-down":!e.showSetting,"el-icon-arrow-up":e.showSetting},on:{click:e.showSettingClick}})],2)],1),e._t("default")],2)},d=[],p={name:"SettingCard",data:function(){return{showSetting:!0,enableSettingData:!0}},created:function(){this.enableSettingData=this.enableSetting,this.showSetting=this.enableSetting},props:{title:{type:String,default:function(){return"设置"}},showEnable:{type:Boolean,default:function(){return!0}},enableSetting:{type:Boolean,default:function(){return!0}}},computed:{bodyStyle:function(){var e=this.showSetting?"":"none";return{display:e}}},watch:{enableSetting:function(e){this.enableSettingData=e,this.showSetting=e}},methods:{enableChanged:function(e){this.showSetting=e,this.$emit("update:enableSetting",this.enableSettingData)},showSettingClick:function(){this.showSetting=!this.showSetting,this.showSetting&&!this.enableSettingData&&(this.enableSettingData=!0,this.$emit("update:enableSetting",this.enableSettingData))}}},f=p,h=(n("7668"),n("2877")),g=Object(h["a"])(f,m,d,!1,null,null,null),v=g.exports,b=["debug","info","warning","error","none"],F=["vmess","dokodemo-door","http","mtproto","shadowsocks","socks","vless"],w=["vmess","blackhole","dns","freedom","http","mtproto","shadowsocks","socks","vless"],y=["aes-128-gcm","chacha20-poly1305","auto","none"],S=["Host","User-Agent","Accept-Encoding","Connection","Pragma","Content-Type","Transfer-Encoding"],k={name:"LogSetting",components:{SettingCard:v},model:{prop:"log",event:"change"},data:function(){return{changedByForm:!1,levels:b,sForm:{access:"",error:"",loglevel:"warning"}}},created:function(){var e=this.log||{};Object.assign(this.sForm,e)},mounted:function(){},methods:{formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},getSettings:function(){return Object.assign({},this.sForm)}},watch:{log:{handler:function(e){this.changedByForm?this.changedByForm=!1:Object.assign(this.sForm,e)},deep:!1}},props:{log:{type:Object}}},x=k,_=(n("9a32"),Object(h["a"])(x,c,u,!1,null,"1d964b55",null)),$=_.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"API接口开放设置","show-enable":!0,enableSetting:e.enableSetting},on:{"update:enableSetting":[e.enableSettingChanged,function(t){e.enableSetting=t}],"update:enable-setting":function(t){e.enableSetting=t}}},[n("el-form",{ref:"form",attrs:{model:e.sForm,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"tag"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.tag,callback:function(t){e.$set(e.sForm,"tag",t)},expression:"sForm.tag"}})],1),n("el-form-item",{attrs:{label:"服务"}},[n("el-checkbox-group",{attrs:{align:"left"},model:{value:e.sForm.services,callback:function(t){e.$set(e.sForm,"services",t)},expression:"sForm.services"}},[n("el-checkbox",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{label:"HandlerService",value:"HandlerService",name:"services"}}),n("el-checkbox",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{label:"LoggerService",value:"LoggerService",name:"services"}}),n("el-checkbox",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{label:"StatsService",value:"StatsService",name:"services"}})],1)],1)],1)],1)},O=[],j={name:"ApiSetting",components:{SettingCard:v},model:{prop:"api",event:"change"},created:function(){var e=this.api||{};Object.assign(this.sForm,e),this.formChanged()},mounted:function(){},watch:{api:function(e){if(this.changedByForm)this.changedByForm=!1;else{var t=e||{};Object.assign(this.sForm,t),this.formChanged()}}},methods:{getSettings:function(){return this.enableSetting?Object.assign({},this.sForm):null},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))},formChanged:function(){this.enableSetting?this.$store.commit("setApiTag",this.sForm.tag):this.$store.commit("setApiTag",null),this.changedByForm=!0,this.$emit("change",this.getSettings())}},data:function(){return{sForm:{tag:"api",services:[]},changedByForm:!1,enableSetting:!0}},props:{api:{type:Object}}},N=j,D=(n("c659"),Object(h["a"])(N,C,O,!1,null,"ae35cbb4",null)),B=D.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"入站协议配置",showEnable:!1}},[n("el-row",{staticClass:"inbound-header",attrs:{gutter:10}},[n("el-col",{staticClass:"op-icons",attrs:{span:2}},[n("i",{class:{"el-icon-arrow-down":!e.showAllDetail,"el-icon-arrow-up":e.showAllDetail},attrs:{type:"success",circle:""},on:{click:e.switchAllDetail}}),n("i",{staticClass:"el-icon-plus",attrs:{type:"primary",circle:""},on:{click:e.newBound}})]),n("el-col",{attrs:{span:5}},[e._v("tag")]),n("el-col",{attrs:{span:5}},[e._v("监听地址")]),n("el-col",{attrs:{span:6}},[n("el-tooltip",{attrs:{effect:"light",placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[e._v("端口。接受的格式如下:")]),n("ul",[n("li",[e._v("整型数值：实际的端口号。")]),n("li",[e._v("环境变量：以 "),n("code",[e._v('"env:"')]),e._v(" 开头，后面是一个环境变量的名称，如 "),n("code",[e._v('"env:PORT"')]),e._v("。V2Ray 会以字符串形式解析这个环境变量。 ")]),n("li",[e._v("字符串：可以是一个数值类型的字符串，如 "),n("code",[e._v('"1234"')]),e._v("；或者一个数值范围，如 "),n("code",[e._v('"5-10"')]),e._v(" 表示端口 5 到端口 10，这 6 个端口。 ")])]),n("p",[e._v("当只有一个端口时，V2Ray 会在此端口监听入站连接。当指定了一个端口范围时，取决于 "),n("code",[e._v("allocate")]),e._v(" 设置。")])]),n("label",[e._v("监听端口")])])],1),n("el-col",{attrs:{span:6}},[e._v("监听协议")])],1),e._l(e.sForm.inbounds,(function(t,s){return n("Inbound",{directives:[{name:"setting",rawName:"v-setting"}],key:t.id,ref:"inbounds",refInFor:!0,attrs:{inbound:t,idx:s},on:{change:function(t){return e.sForm.inbounds.splice(s,1,t)},"new-inbound":e.newBound,"delete-inbound":e.delBound,"copy-inbound":e.copyBound}})}))],2)},T=[],V=(n("4de4"),n("7db0"),n("d81d"),n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inbound"},[n("el-row",{attrs:{gutter:10}},[n("el-col",{staticClass:"op-icons",attrs:{span:2}},[n("i",{class:{"el-icon-arrow-down":!e.showDetail,"el-icon-arrow-up":e.showDetail},attrs:{type:"success",circle:""},on:{click:e.switchInboundDetail}}),n("i",{staticClass:"el-icon-plus",attrs:{type:"primary",circle:""},on:{click:function(t){return e.$emit("new-inbound",e.idx)}}}),n("i",{staticClass:"el-icon-delete",attrs:{type:"primary",circle:""},on:{click:function(t){return e.$emit("delete-inbound",e.idx)}}}),n("i",{staticClass:"el-icon-copy-document",attrs:{type:"primary",circle:""},on:{click:function(t){e.$emit("copy-inbound",e.idx,e.getSettings())}}})]),n("el-col",{attrs:{span:5}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"tag"},model:{value:e.sForm.tag,callback:function(t){e.$set(e.sForm,"tag",t)},expression:"sForm.tag"}})],1),n("el-col",{attrs:{span:5}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"监听地址"},model:{value:e.sForm.listen,callback:function(t){e.$set(e.sForm,"listen",t)},expression:"sForm.listen"}})],1),n("el-col",{attrs:{span:6}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"监听端口"},model:{value:e.sForm.port,callback:function(t){e.$set(e.sForm,"port",t)},expression:"sForm.port"}})],1),n("el-col",{attrs:{span:6}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"协议"},on:{change:e.changeProtocol},model:{value:e.sForm.protocol,callback:function(t){e.$set(e.sForm,"protocol",t)},expression:"sForm.protocol"}},e._l(e.protocols,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),n("el-row",{directives:[{name:"show",rawName:"v-show",value:e.showDetail,expression:"showDetail"}],attrs:{gutter:10}},[n("el-col",{attrs:{span:22,offset:2}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v(e._s(e.sForm.protocol)+"协议参数")])]),"vmess"==e.sForm.protocol?n("VmessInboundSetting",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.settings,callback:function(t){e.$set(e.sForm,"settings",t)},expression:"sForm.settings"}}):e._e(),"http"==e.sForm.protocol?n("HttpInboundSetting",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.settings,callback:function(t){e.$set(e.sForm,"settings",t)},expression:"sForm.settings"}}):e._e(),"dokodemo-door"==e.sForm.protocol?n("InboundDokodemoDoorSetting",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.settings,callback:function(t){e.$set(e.sForm,"settings",t)},expression:"sForm.settings"}}):e._e(),"shadowsocks"==e.sForm.protocol?n("InboundShadowsocksSetting",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.settings,callback:function(t){e.$set(e.sForm,"settings",t)},expression:"sForm.settings"}}):e._e(),"socks"==e.sForm.protocol?n("InboundSocksSetting",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.settings,callback:function(t){e.$set(e.sForm,"settings",t)},expression:"sForm.settings"}}):e._e(),"mtproto"==e.sForm.protocol?n("InboundMTProtoSetting",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.settings,callback:function(t){e.$set(e.sForm,"settings",t)},expression:"sForm.settings"}}):e._e(),"vless"==e.sForm.protocol?n("InboundVlessSetting",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.settings,callback:function(t){e.$set(e.sForm,"settings",t)},expression:"sForm.settings"}}):e._e()],1),n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("sniffing")])]),n("el-form",{staticClass:"text-left",attrs:{inline:!0,"label-width":"90px"}},[n("el-form-item",{attrs:{label:"sniffing"}},[n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.sniffing.enabled,callback:function(t){e.$set(e.sForm.sniffing,"enabled",t)},expression:"sForm.sniffing.enabled"}})],1),n("el-form-item",{attrs:{label:"destOverride","label-width":"90px"}},[n("el-checkbox-group",{attrs:{align:"left"},model:{value:e.sForm.sniffing.destOverride,callback:function(t){e.$set(e.sForm.sniffing,"destOverride",t)},expression:"sForm.sniffing.destOverride"}},[n("el-checkbox",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{label:"tls",value:"tls",name:"destOverride"}}),n("el-checkbox",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{label:"http",value:"http",name:"destOverride"}})],1)],1)],1)],1),n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("allocate")])]),n("el-form",{staticClass:"text-left",attrs:{inline:!0,"label-width":"90px"}},[n("el-form-item",{attrs:{label:"strategy"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v('端口分配策略。"always" 表示总是分配所有已指定的端口，port 中指定了多少个端口，V2Ray 就会监听这些端口。"random" 表示随机开放端口，每隔 refresh 分钟在 port 范围中随机选取 concurrency 个端口来监听。')]),n("label",[e._v("strategy")])]),n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"strategy"},model:{value:e.sForm.allocate.strategy,callback:function(t){e.$set(e.sForm.allocate,"strategy",t)},expression:"sForm.allocate.strategy"}},[n("el-option",{attrs:{label:"always",value:"always"}}),n("el-option",{attrs:{label:"random",value:"random"}})],1)],1),n("el-form-item",{attrs:{label:"concurrency"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("随机端口刷新间隔，单位为分钟。最小值为 2，建议值为 5。这个属性仅当 strategy = random 时有效。")]),n("label",[e._v("concurrency")])]),n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.allocate.concurrency,callback:function(t){e.$set(e.sForm.allocate,"concurrency",e._n(t))},expression:"sForm.allocate.concurrency"}})],1),n("el-form-item",{attrs:{label:"refresh"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("随机端口数量。最小值为 1，最大值为 port 范围的三分之一。建议值为 3。")]),n("label",[e._v("refresh")])]),n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.allocate.refresh,callback:function(t){e.$set(e.sForm.allocate,"refresh",e._n(t))},expression:"sForm.allocate.refresh"}})],1)],1)],1),n("StreamSettingsObject",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.streamSettings,callback:function(t){e.$set(e.sForm,"streamSettings",t)},expression:"sForm.streamSettings"}})],1)],1)],1)}),P=[],R=(n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.sForm.clients}},[n("el-table-column",{attrs:{prop:"id",label:"op",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.delUser(t.$index)}}})]}}])},[n("template",{slot:"header"},[n("i",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.newUser}})])],2),n("el-table-column",{attrs:{prop:"id",label:"id",width:"380"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"id"},model:{value:t.row.id,callback:function(n){e.$set(t.row,"id",n)},expression:"scope.row.id"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-refresh"},on:{click:function(n){t.row.id=e.newUUID()}},slot:"append"})],1)]}}])}),n("el-table-column",{attrs:{prop:"level",label:"level",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input-number",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"level"},model:{value:t.row.level,callback:function(n){e.$set(t.row,"level",n)},expression:"scope.row.level"}})]}}])}),n("el-table-column",{attrs:{prop:"alterId",label:"alterId",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input-number",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"alterId"},model:{value:t.row.alterId,callback:function(n){e.$set(t.row,"alterId",n)},expression:"scope.row.alterId"}})]}}])}),n("el-table-column",{attrs:{prop:"email",label:"email"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"email"},model:{value:t.row.email,callback:function(n){e.$set(t.row,"email",n)},expression:"scope.row.email"}})]}}])})],1),n("el-form",{staticClass:"text-left",staticStyle:{"margin-top":"20px"},attrs:{inline:!1,"label-width":"90px"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"detour"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.detour.to,callback:function(t){e.$set(e.sForm.detour,"to",t)},expression:"sForm.detour.to"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"level"}},[n("el-input-number",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.clientDefault.level,callback:function(t){e.$set(e.clientDefault,"level",t)},expression:"clientDefault.level"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"alterId"}},[n("el-input-number",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.clientDefault.alterId,callback:function(t){e.$set(e.clientDefault,"alterId",t)},expression:"clientDefault.alterId"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"禁止不安全加密","label-width":"120px"}},[n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.disableInsecureEncryption,callback:function(t){e.$set(e.sForm,"disableInsecureEncryption",t)},expression:"sForm.disableInsecureEncryption"}})],1)],1)],1)],1)],1)}),E=[],L=n("ec26"),U={name:"VmessInboundSetting",model:{prop:"setting",event:"change"},methods:{newUUID:function(){var e=this;return this.$nextTick().then((function(){e.formChanged()})),Object(L["a"])()},newUser:function(){this.sForm.clients.push({id:Object(L["a"])(),level:0,alterId:4,email:""})},delUser:function(e){this.sForm.clients.splice(e,1),this.formChanged()},getSettings:function(){var e=this._.cloneDeep(this.sForm);return""==e.detour.to&&(delete e.detour,delete e.default),e},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;e=this.setting||{};var n=this.sForm.default,s=this.sForm.detour;e=this._.pick(e,["clients","disableInsecureEncryption","default","detour"]),this.sForm=this._.defaults(e,this.sForm),this._.defaults(this.sForm.default,n),this._.defaults(this.sForm.detour,s);var o=this.sForm.clients||[];this.sForm.clients=[],o.forEach((function(e){t.sForm.clients.push(Object.assign({level:0,alterId:4,email:"",id:""},e))})),this.$nextTick().then((function(){t.formChanged()}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{changedByForm:!1,sForm:{clients:[],default:{level:0,alterId:4},detour:{to:""},disableInsecureEncryption:!1}}},props:{setting:{type:Object}},computed:{clientDefault:{get:function(){return this.sForm.default},set:function(e){this.sForm.default=e}}}},A=U,M=Object(h["a"])(A,R,E,!1,null,"4dc4888e",null),H=M.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.sForm.accounts}},[n("el-table-column",{attrs:{label:"op",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.delUser(t.$index)}}})]}}])},[n("template",{slot:"header"},[n("i",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.newUser}})])],2),n("el-table-column",{attrs:{prop:"user",label:"user"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"user"},model:{value:t.row.user,callback:function(n){e.$set(t.row,"user",n)},expression:"scope.row.user"}})]}}])}),n("el-table-column",{attrs:{prop:"pass",label:"pass"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"password"},model:{value:t.row.pass,callback:function(n){e.$set(t.row,"pass",n)},expression:"scope.row.pass"}})]}}])})],1),n("el-form",{staticClass:"text-left",attrs:{inline:!1,"label-width":"90px"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"timeout"}},[n("el-input-number",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.timeout,callback:function(t){e.$set(e.sForm,"timeout",e._n(t))},expression:"sForm.timeout"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"userLevel"}},[n("el-input-number",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.userLevel,callback:function(t){e.$set(e.sForm,"userLevel",e._n(t))},expression:"sForm.userLevel"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"allowTransparent","label-width":"130px"}},[n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.allowTransparent,callback:function(t){e.$set(e.sForm,"allowTransparent",t)},expression:"sForm.allowTransparent"}})],1)],1)],1)],1)],1)},z=[],G={name:"HttpInboundSetting",model:{prop:"setting",event:"change"},data:function(){return{changedByForm:!1,sForm:{timeout:0,accounts:[],allowTransparent:!1,userLevel:0}}},watch:{setting:{handler:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)},deep:!1}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},methods:{fillDefaultValue:function(e){var t=this;e=this.setting||{},e=this._.pick(e,["timeout","accounts","allowTransparent","userLevel"]),this.sForm=this._.defaults(e,this.sForm);var n=this.sForm.accounts||[];this.sForm.accounts=[],n.forEach((function(e){t.sForm.accounts.push(Object.assign({user:"",pass:""},e))})),this.$nextTick().then((function(){t.formChanged()}))},newUser:function(){this.sForm.accounts.push({user:"",pass:""})},delUser:function(e){this.sForm.accounts.splice(e,1),this.formChanged()},getSettings:function(){var e=Object.assign({},this.sForm);return e},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())}},props:{setting:{type:Object}}},K=G,J=Object(h["a"])(K,q,z,!1,null,"158a1d10",null),W=J.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{staticClass:"text-left",attrs:{inline:!1,"label-width":"90px"}},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"address"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.address,callback:function(t){e.$set(e.sForm,"address",t)},expression:"sForm.address"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"port"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.port,callback:function(t){e.$set(e.sForm,"port",e._n(t))},expression:"sForm.port"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"network"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.network,callback:function(t){e.$set(e.sForm,"network",t)},expression:"sForm.network"}},[n("el-option",{attrs:{label:"tcp",value:"tcp"}}),n("el-option",{attrs:{label:"udp",value:"udp"}}),n("el-option",{attrs:{label:"tcp,udp",value:"tcp,udp"}})],1)],1)],1)],1),n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"timeout"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.timeout,callback:function(t){e.$set(e.sForm,"timeout",e._n(t))},expression:"sForm.timeout"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("当值为 true 时，dokodemo-door 会识别出由 iptables 转发而来的数据，并转发到相应的目标地址。详见 传输配置 中的 tproxy 设置。")]),n("label",[e._v("followRedirect")])])]},proxy:!0}])},[n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.followRedirect,callback:function(t){e.$set(e.sForm,"followRedirect",t)},expression:"sForm.followRedirect"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"userLevel"}},[n("el-input-number",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.network,callback:function(t){e.$set(e.sForm,"network",e._n(t))},expression:"sForm.network"}})],1)],1)],1)],1)],1)},X=[],Y={name:"VmessDokodemoDoorSetting",model:{prop:"setting",event:"change"},methods:{getSettings:function(){return Object.assign({},this.sForm)},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){e=this.setting||{},e=this._.pick(e,["address","port","network","timeout","followRedirect","userLevel"]),this.sForm=this._.defaults(e,this.sForm)}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{changedByForm:!1,sForm:{address:"8.8.8.8",port:53,network:"tcp",timeout:0,followRedirect:!1,userLevel:0}}},props:{setting:{type:Object}},computed:{}},Z=Y,ee=Object(h["a"])(Z,Q,X,!1,null,"60ad8410",null),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"底层传输配置","show-enable":!0,enableSetting:e.enableSetting},on:{"update:enableSetting":[e.enableSettingChanged,function(t){e.enableSetting=t}],"update:enable-setting":function(t){e.enableSetting=t}}},[n("el-form",{attrs:{"label-width":"100px"}},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"network"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.network,callback:function(t){e.$set(e.sForm,"network",t)},expression:"sForm.network"}},[n("el-option",{attrs:{value:"tcp"}}),n("el-option",{attrs:{value:"kcp"}}),n("el-option",{attrs:{value:"ws"}}),n("el-option",{attrs:{value:"http"}}),n("el-option",{attrs:{value:"domainsocket"}}),n("el-option",{attrs:{value:"quic"}})],1)],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"security"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.security,callback:function(t){e.$set(e.sForm,"security",t)},expression:"sForm.security"}},[n("el-option",{attrs:{value:"none"}}),n("el-option",{attrs:{value:"tls"}})],1)],1)],1)],1),n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"mark"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[e._v("一个整数。当其值非零时，在出站连接上标记 SO_MARK。")]),n("ul",[n("li",[e._v("仅适用于 Linux 系统。")]),n("li",[e._v("需要 CAP_NET_ADMIN 权限。")])])]),n("label",[e._v("mark")])]),n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.sockopt.mark,callback:function(t){e.$set(e.sForm.sockopt,"mark",t)},expression:"sForm.sockopt.mark"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"tproxy"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[e._v("是否开启透明代理（仅适用于 Linux）。")]),n("ul",[n("li",[n("code",[e._v('"redirect"')]),e._v("：使用 Redirect 模式的透明代理。仅支持 TCP/IPv4 和 UDP 连接。")]),n("li",[n("code",[e._v('"tproxy"')]),e._v("：使用 TProxy 模式的透明代理。支持 TCP 和 UDP 连接。")]),n("li",[n("code",[e._v('"off"')]),e._v("：关闭透明代理。")])]),n("p",[e._v("透明代理需要 Root 或 CAP_NET_ADMIN 权限。")])]),n("label",[e._v("tproxy")])]),n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.sockopt.tproxy,callback:function(t){e.$set(e.sForm.sockopt,"tproxy",t)},expression:"sForm.sockopt.tproxy"}},[n("el-option",{attrs:{value:"redirect"}}),n("el-option",{attrs:{value:"tproxy"}}),n("el-option",{attrs:{value:"off"}})],1)],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"tcpFastOpen","label-width":"120px"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[e._v("是否启用 "),n("a",{attrs:{href:"https://zh.wikipedia.org/wiki/TCP%E5%BF%AB%E9%80%9F%E6%89%93%E5%BC%80",target:"_blank",rel:"noopener noreferrer"}},[e._v("TCP Fast Open "),n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})])]),e._v("。当其值为 "),n("code",[e._v("true")]),e._v(" 时，强制开启 TFO；当其值为 "),n("code",[e._v("false")]),e._v(" 时，强制关闭 TFO；当此项不存在时，使用系统默认设置。可用于入站出站连接。 ")]),n("ul",[n("li",[e._v("仅在以下版本（或更新版本）的操作系统中可用: "),n("ul",[n("li",[e._v("Windows 10 (1604)")]),n("li",[e._v("Mac OS 10.11 / iOS 9")]),n("li",[e._v("Linux 3.16：系统已默认开启，无需配置。")])])])])]),n("label",[e._v("tcpFastOpen")])]),n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.sockopt.tcpFastOpen,callback:function(t){e.$set(e.sForm.sockopt,"tcpFastOpen",t)},expression:"sForm.sockopt.tcpFastOpen"}})],1)],1)],1)],1),"tls"===e.sForm.security?n("TlsObject",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.tlsSettings,callback:function(t){e.$set(e.sForm,"tlsSettings",t)},expression:"sForm.tlsSettings"}}):e._e(),"tcp"===e.sForm.network?n("TcpObject",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.tcpSettings,callback:function(t){e.$set(e.sForm,"tcpSettings",t)},expression:"sForm.tcpSettings"}}):e._e(),"kcp"===e.sForm.network?n("KcpObject",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.kcpSettings,callback:function(t){e.$set(e.sForm,"kcpSettings",t)},expression:"sForm.kcpSettings"}}):e._e(),"ws"===e.sForm.network?n("WebSocketObject",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.wsSettings,callback:function(t){e.$set(e.sForm,"wsSettings",t)},expression:"sForm.wsSettings"}}):e._e(),"http"===e.sForm.network?n("Http2Object",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.httpSettings,callback:function(t){e.$set(e.sForm,"httpSettings",t)},expression:"sForm.httpSettings"}}):e._e(),"domainsocket"===e.sForm.network?n("DomainSocketObject",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.dsSettings,callback:function(t){e.$set(e.sForm,"dsSettings",t)},expression:"sForm.dsSettings"}}):e._e(),"quic"===e.sForm.network?n("QuicObject",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.quicSettings,callback:function(t){e.$set(e.sForm,"quicSettings",t)},expression:"sForm.quicSettings"}}):e._e()],1)},se=[],oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"WebSocket传输数据","enable-setting":e.enableSetting},on:{"update:enableSetting":[function(t){e.enableSetting=t},e.enableSettingChanged],"update:enable-setting":function(t){e.enableSetting=t}}},[n("el-form",{staticClass:"text-left",attrs:{inline:!0,"label-width":"90px"}},[n("el-form-item",{attrs:{label:"path"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.path,callback:function(t){e.$set(e.sForm,"path",t)},expression:"sForm.path"}})],1),n("el-form-item",{attrs:{label:"acceptProxyProtocol","label-width":"140px"}},[n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.acceptProxyProtocol,callback:function(t){e.$set(e.sForm,"acceptProxyProtocol",t)},expression:"sForm.acceptProxyProtocol"}})],1)],1),n("h2",[e._v("headers")]),n("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.headers}},[n("el-table-column",{attrs:{label:"op",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.delHeader(t.$index)}}})]}}])},[n("template",{slot:"header"},[n("i",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.newHeader}})])],2),n("el-table-column",{attrs:{prop:"key",label:"key"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"key"},model:{value:t.row.key,callback:function(n){e.$set(t.row,"key",n)},expression:"scope.row.key"}})]}}])}),n("el-table-column",{attrs:{prop:"value",label:"value"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"value"},model:{value:t.row.value,callback:function(n){e.$set(t.row,"value",n)},expression:"scope.row.value"}})]}}])})],1)],1)},ie=[],ae={name:"WebSocketObject",model:{prop:"setting",event:"change"},data:function(){return{enableSetting:!1,changedByForm:!1,headers:[],sForm:{acceptProxyProtocol:!1,path:"/",headers:{}}}},watch:{setting:{handler:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)},deep:!1}},created:function(){var e=this.setting||{};this.fillDefaultValue(e)},mounted:function(){},methods:{fillDefaultValue:function(e){e=this.setting||{},this._.isEmpty(e)?this.enableSetting=!1:this.enableSetting=!0,Object.assign(this.sForm,e);var t=[];for(var n in this.sForm.headers)t.push({key:n,value:this.sForm.headers[n]});this.headers=t,this.formChanged()},newHeader:function(){this.headers.push({key:"",value:""})},delHeader:function(e){this.headers.splice(e,1),this.formChanged()},getSettings:function(){if(!this.enableSetting)return null;var e={};this.headers.forEach((function(t){e[t.key]=t.value})),this.sForm.headers=e;var t=Object.assign({},this.sForm);return t},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))}},props:{setting:{type:Object}}},re=ae,le=Object(h["a"])(re,oe,ie,!1,null,"15c8cba0",null),ce=le.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"HTTP/2传输数据","enable-setting":e.enableSetting},on:{"update:enableSetting":[function(t){e.enableSetting=t},e.enableSettingChanged],"update:enable-setting":function(t){e.enableSetting=t}}},[n("el-form",{staticClass:"text-left",attrs:{inline:!1,"label-width":"90px"}},[n("el-form-item",{attrs:{label:"path"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.path,callback:function(t){e.$set(e.sForm,"path",t)},expression:"sForm.path"}})],1),n("el-form-item",{attrs:{label:"host"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{type:"textarea",placeholder:"host",rows:"3"},model:{value:e.hostValue,callback:function(t){e.hostValue=t},expression:"hostValue"}})],1)],1)],1)},me=[],de=(n("a15b"),n("ac1f"),n("1276"),{name:"Http2Object",model:{prop:"setting",event:"change"},data:function(){return{enableSetting:!1,changedByForm:!1,sForm:{path:"/",host:[]}}},computed:{hostValue:{set:function(e){this.sForm.host=e.split("\n")},get:function(){return this.sForm.host.join("\n")}}},watch:{setting:{handler:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)},deep:!1}},created:function(){var e=this.setting||{};this.fillDefaultValue(e)},mounted:function(){},methods:{fillDefaultValue:function(e){e=this.setting||{},this._.isEmpty(e)?this.enableSetting=!1:this.enableSetting=!0,Object.assign(this.sForm,e),this.formChanged()},getSettings:function(){if(!this.enableSetting)return null;var e=Object.assign({},this.sForm);return e},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))}},props:{setting:{type:Object}}}),pe=de,fe=Object(h["a"])(pe,ue,me,!1,null,"3ec47e52",null),he=fe.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"Domain Socket传输数据","enable-setting":e.enableSetting},on:{"update:enableSetting":[function(t){e.enableSetting=t},e.enableSettingChanged],"update:enable-setting":function(t){e.enableSetting=t}}},[n("el-form",{staticClass:"text-left",attrs:{inline:!0,"label-width":"90px"}},[n("el-form-item",{attrs:{label:"path"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{placement:"top",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("一个合法的文件路径。在运行 V2Ray 之前，这个文件必须不存在。")]),n("label",[e._v("path")])])]},proxy:!0}])},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.path,callback:function(t){e.$set(e.sForm,"path",t)},expression:"sForm.path"}})],1),n("el-form-item",{attrs:{label:"abstract"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{placement:"top",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("是否为 abstract domain socket，默认 false。")]),n("label",[e._v("abstract")])])]},proxy:!0}])},[n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.abstract,callback:function(t){e.$set(e.sForm,"abstract",t)},expression:"sForm.abstract"}})],1)],1),n("p",[e._v("Domain Socket 使用标准的 Unix domain socket 来传输数据。它的优势是使用了操作系统内建的传输通道，而不会占用网络缓存。相比起本地环回网络（local loopback）来说，Domain socket 速度略快一些。")]),n("p",[e._v("目前仅可用于支持 Unix domain socket 的平台，如 macOS 和 Linux。在 Windows 上不可用。")]),n("p",[e._v("如果指定了 domain socket 作为传输方式，在入站出站代理中配置的端口和 IP 地址将会失效，所有的传输由 domain socket 取代。")])],1)},ve=[],be={name:"DomainSocketObject",model:{prop:"setting",event:"change"},data:function(){return{enableSetting:!1,changedByForm:!1,sForm:{abstract:!1,path:"/path/to/ds/file"}}},watch:{setting:{handler:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)},deep:!1}},created:function(){var e=this.setting||{};this.fillDefaultValue(e)},mounted:function(){},methods:{fillDefaultValue:function(e){e=this.setting||{},this._.isEmpty(e)?this.enableSetting=!1:this.enableSetting=!0,Object.assign(this.sForm,e),this.formChanged()},getSettings:function(){if(!this.enableSetting)return null;var e=Object.assign({},this.sForm);return e},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))}},props:{setting:{type:Object}}},Fe=be,we=Object(h["a"])(Fe,ge,ve,!1,null,"40ea7a23",null),ye=we.exports,Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"TCP传输数据","enable-setting":e.enableSetting},on:{"update:enableSetting":[function(t){e.enableSetting=t},e.enableSettingChanged],"update:enable-setting":function(t){e.enableSetting=t}}},[n("el-form",{staticClass:"text-left",attrs:{inline:!0,"label-width":"90px"}},[n("el-form-item",{attrs:{label:"acceptProxyProtocol","label-width":"140px"}},[n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.acceptProxyProtocol,callback:function(t){e.$set(e.sForm,"acceptProxyProtocol",t)},expression:"sForm.acceptProxyProtocol"}})],1),n("el-form-item",{attrs:{label:"headerType","label-width":"100px"}},[n("el-select",{attrs:{placeholder:"header type"},model:{value:e.headerType,callback:function(t){e.headerType=t},expression:"headerType"}},[n("el-option",{attrs:{value:"none"}}),n("el-option",{attrs:{value:"http"}})],1)],1)],1),"http"==e.headerType?n("div",[n("HttpRequestObject",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.header.request,callback:function(t){e.$set(e.sForm.header,"request",t)},expression:"sForm.header.request"}}),n("HttpResponseObject",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.header.response,callback:function(t){e.$set(e.sForm.header,"response",t)},expression:"sForm.header.response"}})],1):e._e()],1)},ke=[],xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"Http请求头部设置","show-enable":!1,"enable-setting":e.enableSetting},on:{"update:enableSetting":function(t){e.enableSetting=t},"update:enable-setting":function(t){e.enableSetting=t}}},[n("el-form",{staticClass:"text-left",attrs:{inline:!1,"label-width":"90px"}},[n("div",{staticStyle:{display:"table",width:"100%"}},[n("div",{staticStyle:{display:"table-cell",width:"200px"}},[n("el-form-item",{attrs:{label:"version"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.version,callback:function(t){e.$set(e.sForm,"version",t)},expression:"sForm.version"}})],1)],1),n("div",{staticStyle:{display:"table-cell",width:"200px"}},[n("el-form-item",{attrs:{label:"method"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{filterable:"","allow-create":""},model:{value:e.sForm.method,callback:function(t){e.$set(e.sForm,"method",t)},expression:"sForm.method"}},[n("el-option",{attrs:{value:"GET"}}),n("el-option",{attrs:{value:"POST"}}),n("el-option",{attrs:{value:"PUT"}})],1)],1)],1),n("div",{staticStyle:{display:"table-cell",width:"auto"}},[n("el-form-item",{attrs:{label:"path"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{multiple:!0,filterable:"","allow-create":""},model:{value:e.sForm.path,callback:function(t){e.$set(e.sForm,"path",t)},expression:"sForm.path"}},[n("el-option",{attrs:{value:"/"}})],1)],1)],1)])]),n("HttpHeaders",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.headers,callback:function(t){e.$set(e.sForm,"headers",t)},expression:"sForm.headers"}})],1)},_e=[],$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("headers")]),n("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.headers}},[n("el-table-column",{attrs:{label:"op",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.delHeader(t.$index)}}})]}}])},[n("template",{slot:"header"},[n("i",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.newHeader}})])],2),n("el-table-column",{attrs:{prop:"key",width:"230",label:"key"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{filterable:"","allow-create":"",placeholder:"key"},model:{value:t.row.key,callback:function(n){e.$set(t.row,"key",n)},expression:"scope.row.key"}},e._l(e.headerKeys,(function(e){return n("el-option",{key:e,attrs:{value:e}})})),1)]}}])}),n("el-table-column",{attrs:{prop:"value",label:"value"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.value,(function(s,o){return n("div",{key:o,staticClass:"el-input el-input-group el-input-group--append"},[n("input",{directives:[{name:"setting",rawName:"v-setting"}],staticClass:"el-input__inner",attrs:{type:"text",autocomplete:"off",placeholder:"value"},domProps:{value:s},on:{change:function(e){t.row.value[o]=e.currentTarget.value}}}),n("div",{staticClass:"el-input-group__append"},[0==o?n("el-button",{attrs:{icon:"el-icon-plus"},on:{click:function(e){return t.row.value.push("")}}}):e._e(),o>0?n("el-button",{attrs:{icon:"el-icon-delete"},on:{click:function(e){return t.row.value.splice(o,1)}}}):e._e()],1)])}))}}])})],1)],1)},Ce=[],Oe={name:"HttpHeaders",model:{prop:"setting",event:"change"},data:function(){return{enableSetting:!0,changedByForm:!1,headers:[],headerKeys:S,sForm:{}}},watch:{setting:{handler:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)},deep:!1}},created:function(){var e=this.setting||{};this.fillDefaultValue(e)},mounted:function(){},methods:{fillDefaultValue:function(e){e=this.setting||{},this.sForm=Object.assign({},e);var t=[];for(var n in this.sForm){var s=this.sForm[n];Array.isArray(s)||(s=[s]),t.push({key:n,value:s})}this.headers=t,this.formChanged()},newHeader:function(){this.headers.push({key:"",value:[""]})},delHeader:function(e){this.headers.splice(e,1),this.formChanged()},headerValueChange:function(e){console.log(e)},getSettings:function(){if(!this.enableSetting)return null;var e={};this.headers.forEach((function(t){e[t.key]=t.value})),this.sForm=e;var t=Object.assign({},this.sForm);return t},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))}},props:{setting:{type:Object}}},je=Oe,Ne=Object(h["a"])(je,$e,Ce,!1,null,"4cf23178",null),De=Ne.exports,Be={name:"HttpRequestObject",components:{HttpHeaders:De},model:{prop:"setting",event:"change"},data:function(){return{enableSetting:!0,changedByForm:!1,sForm:{version:"1.1",method:"GET",path:["/"],headers:{}}}},watch:{setting:{handler:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)},deep:!1}},created:function(){var e=this.setting||{};this.fillDefaultValue(e)},mounted:function(){},methods:{fillDefaultValue:function(e){e=this.setting||{},Object.assign(this.sForm,e),this.formChanged()},getSettings:function(){if(!this.enableSetting)return null;var e=Object.assign({},this.sForm);return e},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))}},props:{setting:{type:Object}}},Ie=Be,Te=Object(h["a"])(Ie,xe,_e,!1,null,"2a81924e",null),Ve=Te.exports,Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"Http响应头部设置","show-enable":!1,"enable-setting":e.enableSetting},on:{"update:enableSetting":function(t){e.enableSetting=t},"update:enable-setting":function(t){e.enableSetting=t}}},[n("el-form",{staticClass:"text-left",attrs:{inline:!1,"label-width":"90px"}},[n("div",{staticStyle:{display:"table",width:"100%"}},[n("div",{staticStyle:{display:"table-cell",width:"200px"}},[n("el-form-item",{attrs:{label:"version"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.version,callback:function(t){e.$set(e.sForm,"version",t)},expression:"sForm.version"}})],1)],1),n("div",{staticStyle:{display:"table-cell",width:"200px"}},[n("el-form-item",{attrs:{label:"status"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.status,callback:function(t){e.$set(e.sForm,"status",t)},expression:"sForm.status"}})],1)],1),n("div",{staticStyle:{display:"table-cell",width:"auto"}},[n("el-form-item",{attrs:{label:"reason"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.reason,callback:function(t){e.$set(e.sForm,"reason",t)},expression:"sForm.reason"}})],1)],1)])]),n("HttpHeaders",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.headers,callback:function(t){e.$set(e.sForm,"headers",t)},expression:"sForm.headers"}})],1)},Re=[],Ee={name:"HttpResponseObject",components:{HttpHeaders:De},model:{prop:"setting",event:"change"},data:function(){return{enableSetting:!0,changedByForm:!1,sForm:{version:"1.1",status:"200",reason:"OK",headers:{}}}},watch:{setting:{handler:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)},deep:!1}},created:function(){var e=this.setting||{};this.fillDefaultValue(e)},mounted:function(){},methods:{fillDefaultValue:function(e){e=this.setting||{},Object.assign(this.sForm,e),this.formChanged()},getSettings:function(){if(!this.enableSetting)return null;var e=Object.assign({},this.sForm);return e},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))}},props:{setting:{type:Object}}},Le=Ee,Ue=Object(h["a"])(Le,Pe,Re,!1,null,"fe179f02",null),Ae=Ue.exports,Me={name:"TcpObject",components:{HttpRequestObject:Ve,HttpResponseObject:Ae},model:{prop:"setting",event:"change"},data:function(){return{enableSetting:!1,changedByForm:!1,headerType:"none",sForm:{acceptProxyProtocol:!1,header:{type:"none",request:{},response:{}}}}},watch:{setting:{handler:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)},deep:!1}},created:function(){var e=this.setting||{};this.fillDefaultValue(e)},mounted:function(){},methods:{fillDefaultValue:function(e){e=this.setting||{},this._.isEmpty(e)?this.enableSetting=!1:this.enableSetting=!0,Object.assign(this.sForm,e),this.formChanged()},getSettings:function(){if(!this.enableSetting)return null;var e=Object.assign({},this.sForm);return e},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))}},props:{setting:{type:Object}}},He=Me,qe=Object(h["a"])(He,Se,ke,!1,null,"0e91184e",null),ze=qe.exports,Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"QUIC传输数据","enable-setting":e.enableSetting},on:{"update:enableSetting":[function(t){e.enableSetting=t},e.enableSettingChanged],"update:enable-setting":function(t){e.enableSetting=t}}},[n("el-form",{staticClass:"text-left",attrs:{inline:!0,"label-width":"90px"}},[n("el-form-item",{attrs:{label:"security"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{placement:"top",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("此加密是对 QUIC 数据包的加密，加密后数据包无法被探测。")]),n("label",[e._v("security")])])]},proxy:!0}])},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.security,callback:function(t){e.$set(e.sForm,"security",t)},expression:"sForm.security"}},[n("el-option",{attrs:{value:"none"}}),n("el-option",{attrs:{value:"aes-128-gcm"}}),n("el-option",{attrs:{value:"chacha20-poly1305"}})],1)],1),n("el-form-item",{attrs:{label:"key"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{placement:"top",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v('加密时所用的密钥。可以是任意字符串。当 security 不为 "none" 时有效。')]),n("label",[e._v("key")])])]},proxy:!0}])},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.key,callback:function(t){e.$set(e.sForm,"key",t)},expression:"sForm.key"}})],1),n("el-form-item",{attrs:{label:"头部伪装"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{placement:"top",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("ul",[n("li",[n("code",[e._v('"none"')]),e._v("：默认值，不进行伪装，发送的数据是没有特征的数据包。")]),n("li",[n("code",[e._v('"srtp"')]),e._v("：伪装成 SRTP 数据包，会被识别为视频通话数据（如 FaceTime）。")]),n("li",[n("code",[e._v('"utp"')]),e._v("：伪装成 uTP 数据包，会被识别为 BT 下载数据。")]),n("li",[n("code",[e._v('"wechat-video"')]),e._v("：伪装成微信视频通话的数据包。")]),n("li",[n("code",[e._v('"dtls"')]),e._v("：伪装成 DTLS 1.2 数据包。")]),n("li",[n("code",[e._v('"wireguard"')]),e._v("：伪装成 WireGuard 数据包。（并不是真正的 WireGuard 协议）")])])]),n("label",[e._v("头部伪装")])])]},proxy:!0}])},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.header.type,callback:function(t){e.$set(e.sForm.header,"type",t)},expression:"sForm.header.type"}},[n("el-option",{attrs:{value:"none"}}),n("el-option",{attrs:{value:"srtp"}}),n("el-option",{attrs:{value:"utp"}}),n("el-option",{attrs:{value:"wechat-video"}}),n("el-option",{attrs:{value:"dtls"}}),n("el-option",{attrs:{value:"wireguard"}})],1)],1)],1),n("p",[e._v("QUIC 全称 Quick UDP Internet Connection，是由 Google 提出的使用 UDP 进行多路并发传输的协议。其主要优势是:")]),n("ol",[n("li",[e._v("减少了握手的延迟（1-RTT 或 0-RTT）")]),n("li",[e._v("多路复用，并且没有 TCP 的阻塞问题")]),n("li",[e._v("连接迁移，（主要是在客户端）当由 Wifi 转移到 4G 时，连接不会被断开。")])]),n("p",[e._v("QUIC 目前处于实验期，使用了正在标准化过程中的 IETF 实现，不能保证与最终版本的兼容性。")])],1)},Ke=[],Je={name:"DomainSocketObject",model:{prop:"setting",event:"change"},data:function(){return{enableSetting:!1,changedByForm:!1,sForm:{security:"none",key:"",header:{type:"none"}}}},watch:{setting:{handler:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)},deep:!1}},created:function(){var e=this.setting||{};this.fillDefaultValue(e)},mounted:function(){},methods:{fillDefaultValue:function(e){e=this.setting||{},this._.isEmpty(e)?this.enableSetting=!1:this.enableSetting=!0,Object.assign(this.sForm,e),this.formChanged()},getSettings:function(){if(!this.enableSetting)return null;var e=Object.assign({},this.sForm);return e},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))}},props:{setting:{type:Object}}},We=Je,Qe=Object(h["a"])(We,Ge,Ke,!1,null,"6e3ed2df",null),Xe=Qe.exports,Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"mKCP传输数据","enable-setting":e.enableSetting},on:{"update:enableSetting":[function(t){e.enableSetting=t},e.enableSettingChanged],"update:enable-setting":function(t){e.enableSetting=t}}},[n("el-form",{staticClass:"text-left",attrs:{inline:!1,"label-width":"90px"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"mtu"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{placement:"top",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("最大传输单元（maximum transmission unit），请选择一个介于 576 - 1460 之间的值。默认值为 1350。")]),n("label",[e._v("mtu")])])]},proxy:!0}])},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.mtu,callback:function(t){e.$set(e.sForm,"mtu",t)},expression:"sForm.mtu"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"uplinkCapacity","label-width":"130px"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{placement:"top",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("上行链路容量，即主机发出数据所用的最大带宽，单位 MB/s，默认值 5。注意是 Byte 而非 bit。可以设置为 0，表示一个非常小的带宽。")]),n("label",[e._v("uplinkCapacity")])])]},proxy:!0}])},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.uplinkCapacity,callback:function(t){e.$set(e.sForm,"uplinkCapacity",t)},expression:"sForm.uplinkCapacity"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"readBufferSize","label-width":"120px"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{placement:"top",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("单个连接的读取缓冲区大小，单位是 MB。默认值为 2。")]),n("label",[e._v("readBufferSize")])])]},proxy:!0}])},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.readBufferSize,callback:function(t){e.$set(e.sForm,"readBufferSize",t)},expression:"sForm.readBufferSize"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"tti"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{placement:"top",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("传输时间间隔（transmission time interval），单位毫秒（ms），mKCP 将以这个时间频率发送数据。请选译一个介于 10 - 100 之间的值。默认值为 50。")]),n("label",[e._v("tti")])])]},proxy:!0}])},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.tti,callback:function(t){e.$set(e.sForm,"tti",t)},expression:"sForm.tti"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"downlinkCapacity","label-width":"130px"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{placement:"top",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("下行链路容量，即主机接收数据所用的最大带宽，单位 MB/s，默认值 20。注意是 Byte 而非 bit。可以设置为 0，表示一个非常小的带宽。")]),n("label",[e._v("downlinkCapacity")])])]},proxy:!0}])},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.downlinkCapacity,callback:function(t){e.$set(e.sForm,"downlinkCapacity",t)},expression:"sForm.downlinkCapacity"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"writeBufferSize","label-width":"120px"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{placement:"top",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("单个连接的写入缓冲区大小，单位是 MB。默认值为 2。")]),n("label",[e._v("writeBufferSize")])])]},proxy:!0}])},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.writeBufferSize,callback:function(t){e.$set(e.sForm,"writeBufferSize",t)},expression:"sForm.writeBufferSize"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"seed"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{placement:"top",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v('v4.24.2+，可选的混淆密码，使用 AES-128-GCM 算法混淆流量数据，客户端和服务端需要保持一致，启用后会输出"NewAEADAESGCMBasedOnSeed Used"到命令行。本混淆机制不能用于保证通信内容的安全，但可能可以对抗部分封锁，在开发者测试环境下开启此设置后没有出现原版未混淆版本的封端口现象。')]),n("label",[e._v("seed")])])]},proxy:!0}])},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.seed,callback:function(t){e.$set(e.sForm,"seed",t)},expression:"sForm.seed"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"头部伪装","label-width":"130px"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{placement:"top",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("ul",[n("li",[n("code",[e._v('"none"')]),e._v("：默认值，不进行伪装，发送的数据是没有特征的数据包。")]),n("li",[n("code",[e._v('"srtp"')]),e._v("：伪装成 SRTP 数据包，会被识别为视频通话数据（如 FaceTime）。")]),n("li",[n("code",[e._v('"utp"')]),e._v("：伪装成 uTP 数据包，会被识别为 BT 下载数据。")]),n("li",[n("code",[e._v('"wechat-video"')]),e._v("：伪装成微信视频通话的数据包。")]),n("li",[n("code",[e._v('"dtls"')]),e._v("：伪装成 DTLS 1.2 数据包。")]),n("li",[n("code",[e._v('"wireguard"')]),e._v("：伪装成 WireGuard 数据包。（并不是真正的 WireGuard 协议）")])])]),n("label",[e._v("头部伪装")])])]},proxy:!0}])},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.header.type,callback:function(t){e.$set(e.sForm.header,"type",t)},expression:"sForm.header.type"}},[n("el-option",{attrs:{value:"none"}}),n("el-option",{attrs:{value:"srtp"}}),n("el-option",{attrs:{value:"utp"}}),n("el-option",{attrs:{value:"wechat-video"}}),n("el-option",{attrs:{value:"dtls"}}),n("el-option",{attrs:{value:"wireguard"}})],1)],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"congestion","label-width":"120px"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{placement:"top",effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("是否启用拥塞控制，默认值为 false。开启拥塞控制之后，V2Ray 会自动监测网络质量，当丢包严重时，会自动降低吞吐量；当网络畅通时，也会适当增加吞吐量。")]),n("label",[e._v("congestion")])])]},proxy:!0}])},[n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.congestion,callback:function(t){e.$set(e.sForm,"congestion",t)},expression:"sForm.congestion"}})],1)],1)],1)],1),n("p",[e._v("mKCP 使用 UDP 来模拟 TCP 连接，请确定主机上的防火墙配置正确。mKCP 牺牲带宽来降低延迟。传输同样的内容，mKCP 一般比 TCP 消耗更多的流量")])],1)},Ze=[],et={name:"DomainSocketObject",model:{prop:"setting",event:"change"},data:function(){return{enableSetting:!1,changedByForm:!1,sForm:{mtu:1350,tti:20,uplinkCapacity:5,downlinkCapacity:20,congestion:!1,readBufferSize:1,writeBufferSize:1,header:{type:"none"},seed:""}}},watch:{setting:{handler:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)},deep:!1}},created:function(){var e=this.setting||{};this.fillDefaultValue(e)},mounted:function(){},methods:{fillDefaultValue:function(e){e=this.setting||{},this._.isEmpty(e)?this.enableSetting=!1:this.enableSetting=!0,Object.assign(this.sForm,e),this.formChanged()},getSettings:function(){if(!this.enableSetting)return null;var e=Object.assign({},this.sForm);return e},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))}},props:{setting:{type:Object}}},tt=et,nt=Object(h["a"])(tt,Ye,Ze,!1,null,"5a24a6ca",null),st=nt.exports,ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"TLS安全传送配置","show-enable":!0,enableSetting:e.enableSetting},on:{"update:enableSetting":[e.enableSettingChanged,function(t){e.enableSetting=t}],"update:enable-setting":function(t){e.enableSetting=t}},scopedSlots:e._u([{key:"header-buttons",fn:function(){return[n("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"10px"},on:{click:e.newCert}})]},proxy:!0}])},[n("el-form",{attrs:{"label-width":"100px"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"serverName"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 指定服务器端证书的域名，在连接由 IP 建立时有用。当目标连接由域名指定时，比如在 Socks 入站时接收到了域名，或者由 Sniffing 功能探测出了域名，这个域名会自动用于 serverName，无须手动配置。 ")]),n("label",[e._v("serverName")])]),n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.serverName,callback:function(t){e.$set(e.sForm,"serverName",t)},expression:"sForm.serverName"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"alpn"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 一个字符串数组，指定了 TLS 握手时指定的 ALPN 数值 ")]),n("label",[e._v("alpn")])]),n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{multiple:"",filterable:"","allow-create":""},model:{value:e.sForm.alpn,callback:function(t){e.$set(e.sForm,"alpn",t)},expression:"sForm.alpn"}},[n("el-option",{attrs:{value:"h2"}}),n("el-option",{attrs:{value:"http/1.1"}})],1)],1)],1),n("el-col",{attrs:{span:4}},[n("el-form-item",{attrs:{label:"allowInsecure","label-width":"120px"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 是否允许不安全连接（仅用于客户端）。默认值为 false。当值为 true 时，V2Ray 不会检查远端主机所提供的 TLS 证书的有效性。 ")]),n("label",[e._v("allowInsecure")])]),n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.allowInsecure,callback:function(t){e.$set(e.sForm,"allowInsecure",t)},expression:"sForm.allowInsecure"}})],1)],1),n("el-col",{attrs:{span:4}},[n("el-form-item",{attrs:{label:"disableSystemRoot","label-width":"130px"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(" （V2Ray 4.18+）是否禁用操作系统自带的 CA 证书。默认值为 false。当值为 true 时，V2Ray 只会使用 certificates 中指定的证书进行 TLS 握手。当值为 false 时，V2Ray 只会使用操作系统自带的 CA 证书进行 TLS 握手。 ")]),n("label",[e._v("disableSystemRoot")])]),n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.disableSystemRoot,callback:function(t){e.$set(e.sForm,"disableSystemRoot",t)},expression:"sForm.disableSystemRoot"}})],1)],1)],1)],1),e._l(e.sForm.certificates,(function(t,s){return n("CertificateObject",{directives:[{name:"setting",rawName:"v-setting"}],key:s,attrs:{idx:s,setting:t},on:{"new-cert":e.newCert,"del-cert":function(t){return e.sForm.certificates.splice(s,1)},change:function(t){return e.sForm.certificates.splice(s,1,t)}}})}))],2)},it=[],at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"证书详情"+(e.idx+1)+"-"+e.sForm.usage,"show-enable":!1,enableSetting:e.enableSetting},on:{"update:enableSetting":[e.enableSettingChanged,function(t){e.enableSetting=t}],"update:enable-setting":function(t){e.enableSetting=t}},scopedSlots:e._u([{key:"header-buttons",fn:function(){return[n("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"10px"},on:{click:function(t){return e.$emit("new-cert")}}}),n("i",{staticClass:"el-icon-delete",staticStyle:{"margin-right":"10px"},on:{click:function(t){return e.$emit("del-cert")}}})]},proxy:!0}])},[n("el-form",{attrs:{"label-width":"100px","label-position":"top"}},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"usage"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[n("ul",[n("li",[n("code",[e._v('"encipherment"')]),e._v("：证书用于 TLS 认证和加密。")]),n("li",[n("code",[e._v('"verify"')]),e._v("：证书用于验证远端 TLS 的证书。当使用此项时，当前证书必须为 CA 证书。")]),n("li",[n("code",[e._v('"issue"')]),e._v("：证书用于签发其它证书。当使用此项时，当前证书必须为 CA 证书。")])])]),n("label",[e._v("usage")])]),n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.usage,callback:function(t){e.$set(e.sForm,"usage",t)},expression:"sForm.usage"}},[n("el-option",{attrs:{value:"encipherment"}}),n("el-option",{attrs:{value:"verify"}}),n("el-option",{attrs:{value:"issue"}})],1)],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"certificateFile"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[e._v("证书文件路径，如使用 OpenSSL 生成，后缀名为 .crt。")]),n("p",[e._v("使用 v2ctl cert -ca 可以生成自签名的 CA 证书。")])]),n("label",[e._v("certificateFile")])]),n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.certificateFile,callback:function(t){e.$set(e.sForm,"certificateFile",t)},expression:"sForm.certificateFile"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"keyFile"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[e._v("密钥文件路径，如使用 OpenSSL 生成，后缀名为 .key。目前暂不支持需要密码的 key 文件。")])]),n("label",[e._v("keyFile")])]),n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.keyFile,callback:function(t){e.$set(e.sForm,"keyFile",t)},expression:"sForm.keyFile"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"certificate"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[e._v("一个字符串数组，表示证书内容，格式如样例所示。certificate 和 certificateFile 二者选一。")])]),n("label",[e._v("certificate")])]),n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{type:"textarea",rows:"8"},model:{value:e.sForm.certificateValue,callback:function(t){e.$set(e.sForm,"certificateValue",t)},expression:"sForm.certificateValue"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"key"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[e._v("一个字符串数组，表示密钥内容，格式如样例如示。key 和 keyFile 二者选一。")])]),n("label",[e._v("key")])]),n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{type:"textarea",rows:"8"},model:{value:e.sForm.keyValue,callback:function(t){e.$set(e.sForm,"keyValue",t)},expression:"sForm.keyValue"}})],1)],1)],1)],1)],1)},rt=[],lt={name:"CertificateObject",components:{},model:{prop:"setting",event:"change"},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},methods:{fillDefaultValue:function(e){e=e||{},e.alpn||e.serverName?this.enableSetting=!0:this.enableSetting=!1,Object.assign(this.sForm,e),this.formChanged()},getSettings:function(){return this.enableSetting?Object.assign({},this.sForm):null},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())}},computed:{keyValue:{get:function(){return this.sForm.key?this.sForm.key.join("\n"):""},set:function(e){this.sForm.key=e.split("\n")}},certificateValue:{get:function(){return this.sForm.certificate?this.sForm.certificate.join("\n"):""},set:function(e){this.sForm.certificate=e.split("\n")}}},data:function(){return{sForm:{usage:"encipherment",certificateFile:"",keyFile:"",certificate:[],key:[]},changedByForm:!1,enableSetting:!1}},props:{setting:{type:Object},idx:{type:Number,default:function(){return 1}}}},ct=lt,ut=(n("1d2c"),Object(h["a"])(ct,at,rt,!1,null,null,null)),mt=ut.exports,dt={name:"StreamSettingsObject",components:{CertificateObject:mt},model:{prop:"setting",event:"change"},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},methods:{newCert:function(){this.sForm.certificates.push({})},fillDefaultValue:function(e){e=e||{},e.alpn||e.serverName?this.enableSetting=!0:this.enableSetting=!1,Object.assign(this.sForm,e),this.formChanged()},getSettings:function(){return this.enableSetting?Object.assign({},this.sForm):null},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())}},data:function(){return{sForm:{serverName:"v2ray.com",allowInsecure:!1,alpn:["h2","http/1.1"],certificates:[{}],disableSystemRoot:!1},changedByForm:!1,enableSetting:!1}},props:{setting:{type:Object}}},pt=dt,ft=(n("8353"),Object(h["a"])(pt,ot,it,!1,null,"2d30af1a",null)),ht=ft.exports,gt={name:"StreamSettingsObject",components:{WebSocketObject:ce,Http2Object:he,DomainSocketObject:ye,TcpObject:ze,QuicObject:Xe,KcpObject:st,TlsObject:ht},model:{prop:"setting",event:"change"},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},methods:{fillDefaultValue:function(e){e=e||{},e.network||e.security?this.enableSetting=!0:this.enableSetting=!1,Object.assign(this.sForm,e),this.formChanged()},getSettings:function(){return this.enableSetting?Object.assign({},this.sForm):null},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())}},data:function(){return{sForm:{network:"tcp",security:"none",tlsSettings:{},tcpSettings:{},kcpSettings:{},wsSettings:{},httpSettings:{},dsSettings:{},quicSettings:{},sockopt:{mark:0,tcpFastOpen:!1,tproxy:"off"}},changedByForm:!1,enableSetting:!1}},props:{setting:{type:Object}}},vt=gt,bt=(n("1da6"),Object(h["a"])(vt,ne,se,!1,null,"3c0ffeae",null)),Ft=bt.exports,wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{staticClass:"text-left",attrs:{inline:!1,"label-width":"120px"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"email"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.email,callback:function(t){e.$set(e.sForm,"email",t)},expression:"sForm.email"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"加密方式"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.method,callback:function(t){e.$set(e.sForm,"method",t)},expression:"sForm.method"}},[n("el-option",{attrs:{value:"aes-256-cfb"}}),n("el-option",{attrs:{value:"aes-128-cfb"}}),n("el-option",{attrs:{value:"chacha20"}}),n("el-option",{attrs:{value:"chacha20-ietf"}}),n("el-option",{attrs:{value:"aes-256-gcm"}}),n("el-option",{attrs:{value:"aes-128-gcm"}}),n("el-option",{attrs:{value:"chacha20-poly1305"}}),n("el-option",{attrs:{value:"none"}})],1)],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"password"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.password,callback:function(t){e.$set(e.sForm,"password",t)},expression:"sForm.password"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"level"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.level,callback:function(t){e.$set(e.sForm,"level",e._n(t))},expression:"sForm.level"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"network"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.network,callback:function(t){e.$set(e.sForm,"network",t)},expression:"sForm.network"}},[n("el-option",{attrs:{value:"tcp"}}),n("el-option",{attrs:{value:"udp"}}),n("el-option",{attrs:{value:"tcp,udp"}})],1)],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"ota"}},[n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.ota,callback:function(t){e.$set(e.sForm,"ota",t)},expression:"sForm.ota"}})],1)],1)],1)],1)],1)},yt=[],St={name:"InboundShadowsocksSetting",model:{prop:"setting",event:"change"},methods:{getSettings:function(){return Object.assign({},this.sForm)},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;e=this.setting||{},e=this._.pick(e,["email","method","password","level","ota","network"]),this.sForm=this._.defaults(e,this.sForm),this.$nextTick().then((function(){t.formChanged()}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{changedByForm:!1,sForm:{email:"love@v2ray.com",method:"aes-128-cfb",password:"",level:0,ota:!0,network:"tcp"}}},props:{setting:{type:Object}},computed:{}},kt=St,xt=Object(h["a"])(kt,wt,yt,!1,null,"1a25c5b5",null),_t=xt.exports,$t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{staticClass:"text-left",attrs:{inline:!1,"label-width":"90px"}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"auth"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.auth,callback:function(t){e.$set(e.sForm,"auth",t)},expression:"sForm.auth"}},[n("el-option",{attrs:{value:"noauth"}}),n("el-option",{attrs:{value:"password"}})],1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"userLevel"}},[n("el-input-number",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.userLevel,callback:function(t){e.$set(e.sForm,"userLevel",e._n(t))},expression:"sForm.userLevel"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"udp"}},[n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.udp,callback:function(t){e.$set(e.sForm,"udp",t)},expression:"sForm.udp"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"ip"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.ip,callback:function(t){e.$set(e.sForm,"ip",t)},expression:"sForm.ip"}})],1)],1)],1)],1),n("h2",[e._v("认证用户列表")]),n("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.sForm.accounts}},[n("el-table-column",{attrs:{label:"op",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.delUser(t.$index)}}})]}}])},[n("template",{slot:"header"},[n("i",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.newUser}})])],2),n("el-table-column",{attrs:{prop:"user",label:"user"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"user"},model:{value:t.row.user,callback:function(n){e.$set(t.row,"user",n)},expression:"scope.row.user"}})]}}])}),n("el-table-column",{attrs:{prop:"pass",label:"pass"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"password"},model:{value:t.row.pass,callback:function(n){e.$set(t.row,"pass",n)},expression:"scope.row.pass"}})]}}])})],1)],1)},Ct=[],Ot={name:"InboundSocksSetting",model:{prop:"setting",event:"change"},data:function(){return{changedByForm:!1,sForm:{auth:"noauth",accounts:[],udp:!1,ip:"127.0.0.1",userLevel:0}}},watch:{setting:{handler:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)},deep:!1}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},methods:{fillDefaultValue:function(e){var t=this;e=this.setting||{},e=this._.pick(e,["timeout","accounts","allowTransparent","userLevel"]),this.sForm=this._.defaults(e,this.sForm);var n=this.sForm.accounts||[];this.sForm.accounts=[],n.forEach((function(e){t.sForm.accounts.push(Object.assign({user:"",pass:""},e))})),this.$nextTick().then((function(){t.formChanged()}))},newUser:function(){this.sForm.accounts.push({user:"",pass:""})},delUser:function(e){this.sForm.accounts.splice(e,1),this.formChanged()},getSettings:function(){var e=Object.assign({},this.sForm);return e},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())}},props:{setting:{type:Object}}},jt=Ot,Nt=Object(h["a"])(jt,$t,Ct,!1,null,"fb59a986",null),Dt=Nt.exports,Bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("认证用户列表")]),n("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.sForm.users}},[n("el-table-column",{attrs:{label:"op",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.delUser(t.$index)}}})]}}])},[n("template",{slot:"header"},[n("i",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.newUser}})])],2),n("el-table-column",{attrs:{prop:"email",label:"email"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"email"},model:{value:t.row.email,callback:function(n){e.$set(t.row,"email",n)},expression:"scope.row.email"}})]}}])}),n("el-table-column",{attrs:{prop:"secret",label:"secret"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"secret"},model:{value:t.row.secret,callback:function(n){e.$set(t.row,"secret",n)},expression:"scope.row.secret"}})]}}])},[n("el-tooltip",{attrs:{slot:"header",placement:"top",effect:"light"},slot:"header"},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[e._v("用户密钥。必须为 32 个字符，仅可包含 0 到 9 和 a 到 f 之间的字符。")]),n("p",[e._v("使用此命令生成 MTProto 代理所需要的用户密钥：openssl rand -hex 16")])]),n("label",[e._v("secret")])])],1),n("el-table-column",{attrs:{prop:"level",label:"level"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input-number",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"level"},model:{value:t.row.level,callback:function(n){e.$set(t.row,"level",e._n(n))},expression:"scope.row.level"}})]}}])})],1),n("p",[e._v("目前只有第一个用户会生效")])],1)},It=[],Tt={name:"InboundMTProtoSetting",model:{prop:"setting",event:"change"},data:function(){return{changedByForm:!1,sForm:{users:[{email:"love@v2ray.com",level:0,secret:"b0cbcef5a486d9636472ac27f8e11a9d"}]}}},watch:{setting:{handler:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)},deep:!1}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},methods:{fillDefaultValue:function(e){var t=this;e=this.setting||{},e=this._.pick(e,["users"]),this.sForm=this._.defaults(e,this.sForm);var n=this.sForm.users||[];this.sForm.users=[],n.forEach((function(e){t.sForm.users.push(Object.assign({email:"",secret:"",level:0},e))})),this.$nextTick().then((function(){t.formChanged()}))},newUser:function(){this.sForm.users.push({email:"",secret:"",level:0})},delUser:function(e){this.sForm.users.splice(e,1),this.formChanged()},getSettings:function(){var e=Object.assign({},this.sForm);return e},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())}},props:{setting:{type:Object}}},Vt=Tt,Pt=Object(h["a"])(Vt,Bt,It,!1,null,"ef475ba6",null),Rt=Pt.exports,Et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("用户列表:")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.sForm.clients}},[n("el-table-column",{attrs:{prop:"id",label:"op",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.delUser(t.$index)}}})]}}])},[n("template",{slot:"header"},[n("i",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.newUser}})])],2),n("el-table-column",{attrs:{prop:"id",label:"id",width:"380"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"id"},model:{value:t.row.id,callback:function(n){e.$set(t.row,"id",n)},expression:"scope.row.id"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-refresh"},on:{click:function(n){t.row.id=e.newUUID()}},slot:"append"})],1)]}}])}),n("el-table-column",{attrs:{prop:"level",label:"level",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input-number",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"level"},model:{value:t.row.level,callback:function(n){e.$set(t.row,"level",e._n(n))},expression:"scope.row.level"}})]}}])}),n("el-table-column",{attrs:{prop:"email",label:"email"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"email"},model:{value:t.row.email,callback:function(n){e.$set(t.row,"email",n)},expression:"scope.row.email"}})]}}])})],1),n("h2",[e._v("回落分流配置:")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.sForm.fallbacks}},[n("el-table-column",{attrs:{prop:"id",label:"op",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.delFallback(t.$index)}}})]}}])},[n("template",{slot:"header"},[n("i",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.newFallback}})])],2),n("el-table-column",{attrs:{prop:"alpn",label:"alpn",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{clearable:"",placeholder:"alpn","allow-create":"",filterable:""},model:{value:t.row.alpn,callback:function(n){e.$set(t.row,"alpn",n)},expression:"scope.row.alpn"}},[n("el-option",{attrs:{value:"http/1.1"}})],1)]}}])}),n("el-table-column",{attrs:{prop:"dest",label:"dest",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"dest"},model:{value:t.row.dest,callback:function(n){e.$set(t.row,"dest",n)},expression:"scope.row.dest"}})]}}])}),n("el-table-column",{attrs:{prop:"xver",label:"xver",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"xver"},model:{value:t.row.xver,callback:function(n){e.$set(t.row,"xver",n)},expression:"scope.row.xver"}},[n("el-option",{attrs:{value:"0"}}),n("el-option",{attrs:{value:"1"}}),n("el-option",{attrs:{value:"2"}})],1)]}}])}),n("el-table-column",{attrs:{prop:"path",label:"path"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"path"},model:{value:t.row.path,callback:function(n){e.$set(t.row,"path",n)},expression:"scope.row.path"}})]}}])})],1)],1)},Lt=[],Ut={name:"VlessInboundSetting",model:{prop:"setting",event:"change"},methods:{newUUID:function(){return Object(L["a"])()},newFallback:function(){this.sForm.fallbacks.push({dest:"80",path:"",alpn:"",xver:0})},delFallback:function(e){this.sForm.fallbacks.splice(e,1)},newUser:function(){this.sForm.clients.push({id:Object(L["a"])(),level:0,email:""})},delUser:function(e){this.sForm.clients.splice(e,1)},getSettings:function(){return Object.assign({},this.sForm)},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;e=this.setting||{},e=this._.pick(e,["clients","decryption","fallbacks"]),this.sForm=this._.defaults(e,this.sForm);var n=this.sForm.clients||[];this.sForm.clients=[],n.forEach((function(e){t.sForm.clients.push(Object.assign({level:0,email:"",id:""},e))}));var s=this.sForm.fallbacks||[];this.sForm.fallbacks=[],s.forEach((function(e){t.sForm.fallbacks.push(Object.assign({dest:"80",path:"",alpn:"",xver:0},e))})),this.$nextTick().then((function(){t.formChanged()}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{changedByForm:!1,sForm:{clients:[],decryption:"none",fallbacks:[]}}},props:{setting:{type:Object}},computed:{clientDefault:{get:function(){return this.sForm.default},set:function(e){this.sForm.default=e}}}},At=Ut,Mt=Object(h["a"])(At,Et,Lt,!1,null,"76aff4f2",null),Ht=Mt.exports,qt={name:"Inbound",components:{VmessInboundSetting:H,HttpInboundSetting:W,InboundDokodemoDoorSetting:te,StreamSettingsObject:Ft,InboundShadowsocksSetting:_t,InboundSocksSetting:Dt,InboundMTProtoSetting:Rt,InboundVlessSetting:Ht},model:{prop:"inbound",event:"change"},data:function(){return{changedByForm:!1,protocols:F,showDetail:!1,sForm:{port:1080,listen:"0.0.0.0",protocol:"vmess",settings:{},streamSettings:{},tag:"标识",sniffing:{enabled:!0,destOverride:["http","tls"]},allocate:{strategy:"always",refresh:5,concurrency:3}}}},created:function(){this.fillDefaultValue(this.inbound)},mounted:function(){},watch:{inbound:{handler:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)},deep:!1}},methods:{fillDefaultValue:function(e){var t=this;e=e||{},Object.assign(this.sForm,e),this.sForm.sniffing=Object.assign({enabled:!1,destOverride:[]},this.sForm.sniffing||{}),this.sForm.allocate=Object.assign({strategy:"always",refresh:5,concurrency:3},this.sForm.allocate),this.$nextTick().then((function(){t.formChanged()}))},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},getSettings:function(){var e=this._.cloneDeep(this.sForm);return e.sniffing.enabled||delete e.sniffing,e},switchInboundDetail:function(){this.showDetail=!this.showDetail},changeProtocol:function(){"dokodemo-door"===this.sForm.protocol&&(this.sForm.sniffing.enabled=!1)}},props:{inbound:{type:Object},idx:{type:Number,default:function(){return 0}}}},zt=qt,Gt=(n("5ff4"),Object(h["a"])(zt,V,P,!1,null,"d134476c",null)),Kt=Gt.exports,Jt=1,Wt={name:"Inbounds",components:{Inbound:Kt},model:{prop:"inbounds",event:"change"},data:function(){return{changedByForm:!1,showAllDetail:!1,sForm:{inbounds:[]}}},created:function(){var e=this,t=this.inbounds||[];for(var n in t)this.sForm.inbounds.push(Object.assign({id:Jt++},n));this.$nextTick().then((function(){e.formChanged()}))},mounted:function(){},watch:{inbounds:{handler:function(e){var t=this;if(this.changedByForm)this.changedByForm=!1;else{var n=[];e.forEach((function(e){var s=t.getInboundByTag(e.tag),o=null!=s?s.id:Jt++;n.push(Object.assign({id:o},e))})),this.sForm.inbounds=n,this.$store.commit("setInboundTags",this.sForm.inbounds.filter((function(e){return e.tag})).map((function(e){return e.tag}))),this.$nextTick().then((function(){t.formChanged()}))}},deep:!1}},props:{inbounds:{type:Array,default:function(){return[]}}},methods:{formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings()),this.$store.commit("setInboundTags",this.sForm.inbounds.filter((function(e){return e.tag})).map((function(e){return e.tag})))},getSettings:function(){var e=JSON.parse(JSON.stringify(this.sForm.inbounds));return e.forEach((function(e){delete e.id})),e},getInboundByTag:function(e){return this._.find(this.sForm.inbounds,(function(t){return t.tag===e}))},switchAllDetail:function(){var e=this;this.$refs.inbounds&&this.$refs.inbounds.forEach((function(t){t.$data.showDetail=!e.showAllDetail})),this.showAllDetail=!this.showAllDetail},newBound:function(e){"number"!==typeof e&&(e=this.sForm.inbounds.length-1),this.sForm.inbounds.splice(e+1,0,{id:Jt++})},copyBound:function(e,t){"number"!==typeof e&&(e=this.sForm.inbounds.length-1),t.id=Jt++,t.tag=t.tag+"_copy",this.sForm.inbounds.splice(e+1,0,t)},delBound:function(e){this.sForm.inbounds.splice(e,1),this.formChanged()}}},Qt=Wt,Xt=(n("ef21"),Object(h["a"])(Qt,I,T,!1,null,null,null)),Yt=Xt.exports,Zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"出站协议配置",showEnable:!1}},[n("el-row",{staticClass:"outbound-header",attrs:{gutter:10}},[n("el-col",{staticClass:"op-icons",attrs:{span:2}},[n("i",{class:{"el-icon-arrow-down":!e.showAllDetail,"el-icon-arrow-up":e.showAllDetail},attrs:{type:"success",circle:""},on:{click:e.switchAllDetail}}),n("i",{staticClass:"el-icon-plus",attrs:{type:"primary",circle:""},on:{click:e.newBound}})]),n("el-col",{attrs:{span:5}},[e._v("tag")]),n("el-col",{attrs:{span:5}},[e._v("发送出口IP")]),n("el-col",{attrs:{span:6}},[e._v("转发到Tag")]),n("el-col",{attrs:{span:6}},[e._v("出站协议")])],1),e._l(e.sForm.outbounds,(function(t,s){return n("Outbound",{directives:[{name:"setting",rawName:"v-setting"}],key:t.id,ref:"outbounds",refInFor:!0,attrs:{outbound:t,idx:s},on:{change:function(t){return e.sForm.outbounds.splice(s,1,t)},"to-top":e.toTop,"new-bound":e.newBound,"delete-bound":e.delBound,"copy-bound":e.copyBound}})}))],2)},en=[],tn=(n("99af"),n("2909")),nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"outbound"},[n("el-row",{attrs:{gutter:10}},[n("el-col",{staticClass:"op-icons",attrs:{span:2}},[n("i",{class:{"el-icon-arrow-down":!e.showDetail,"el-icon-arrow-up":e.showDetail},attrs:{type:"success",circle:""},on:{click:e.switchInboundDetail}}),n("i",{staticClass:"el-icon-plus",attrs:{type:"primary",circle:""},on:{click:function(t){return e.$emit("new-bound",e.idx)}}}),n("i",{staticClass:"el-icon-delete",attrs:{type:"primary",circle:""},on:{click:function(t){return e.$emit("delete-bound",e.idx)}}}),n("i",{staticClass:"el-icon-copy-document",attrs:{type:"primary",circle:""},on:{click:function(t){e.$emit("copy-bound",e.idx,e.getSettings())}}}),e.idx>0?n("i",{staticClass:"el-icon-upload2",attrs:{type:"primary",circle:""},on:{click:function(t){return e.$emit("to-top",e.idx)}}}):e._e()]),n("el-col",{attrs:{span:5}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"tag"},model:{value:e.sForm.tag,callback:function(t){e.$set(e.sForm,"tag",t)},expression:"sForm.tag"}})],1),n("el-col",{attrs:{span:5}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"发送出口IP"},model:{value:e.sForm.sendThrough,callback:function(t){e.$set(e.sForm,"sendThrough",t)},expression:"sForm.sendThrough"}})],1),n("el-col",{attrs:{span:6}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"转发到Tag"},model:{value:e.sForm.proxySettings.tag,callback:function(t){e.$set(e.sForm.proxySettings,"tag",t)},expression:"sForm.proxySettings.tag"}})],1),n("el-col",{attrs:{span:6}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"协议"},model:{value:e.sForm.protocol,callback:function(t){e.$set(e.sForm,"protocol",t)},expression:"sForm.protocol"}},e._l(e.protocols,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),n("el-row",{directives:[{name:"show",rawName:"v-show",value:e.showDetail,expression:"showDetail"}],attrs:{gutter:10}},[n("el-col",{attrs:{span:22,offset:2}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v(e._s(e.sForm.protocol)+"协议参数")])]),"vmess"==e.sForm.protocol?n("VmessOutboundSetting",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.settings,callback:function(t){e.$set(e.sForm,"settings",t)},expression:"sForm.settings"}}):e._e(),"vless"==e.sForm.protocol?n("VlessOutboundSetting",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.settings,callback:function(t){e.$set(e.sForm,"settings",t)},expression:"sForm.settings"}}):e._e(),"http"==e.sForm.protocol?n("HttpOutboundSetting",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.settings,callback:function(t){e.$set(e.sForm,"settings",t)},expression:"sForm.settings"}}):e._e(),"freedom"==e.sForm.protocol?n("OutboundFreedomSetting",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.settings,callback:function(t){e.$set(e.sForm,"settings",t)},expression:"sForm.settings"}}):e._e(),"blackhole"==e.sForm.protocol?n("Blackhole",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.settings,callback:function(t){e.$set(e.sForm,"settings",t)},expression:"sForm.settings"}}):e._e(),"dns"==e.sForm.protocol?n("OutboundDNS",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.settings,callback:function(t){e.$set(e.sForm,"settings",t)},expression:"sForm.settings"}}):e._e(),"mtproto"==e.sForm.protocol?n("OutboundEmpty",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.settings,callback:function(t){e.$set(e.sForm,"settings",t)},expression:"sForm.settings"}}):e._e(),"shadowsocks"==e.sForm.protocol?n("OutboundShadowsocksSetting",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.settings,callback:function(t){e.$set(e.sForm,"settings",t)},expression:"sForm.settings"}}):e._e(),"socks"==e.sForm.protocol?n("OutboundSocksSetting",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.settings,callback:function(t){e.$set(e.sForm,"settings",t)},expression:"sForm.settings"}}):e._e()],1),n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("mux多路复用")])]),n("el-form",{staticClass:"text-left",attrs:{inline:!0,"label-width":"90px"}},[n("el-form-item",{attrs:{label:"mux"}},[n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.mux.enabled,callback:function(t){e.$set(e.sForm.mux,"enabled",t)},expression:"sForm.mux.enabled"}})],1),n("el-form-item",{attrs:{label:"concurrency"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.mux.concurrency,callback:function(t){e.$set(e.sForm.mux,"concurrency",t)},expression:"sForm.mux.concurrency"}})],1)],1)],1),n("StreamSettingsObject",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.streamSettings,callback:function(t){e.$set(e.sForm,"streamSettings",t)},expression:"sForm.streamSettings"}})],1)],1)],1)},sn=[],on=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" 远端主机列表："),n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.newVnext}},[e._v("新增")]),e._l(e.sForm.vnext,(function(t,s){return n("VmessVnext",{directives:[{name:"setting",rawName:"v-setting"}],key:t.id,attrs:{setting:t,idx:s},on:{"del-vnext":e.delVnext,change:function(t){return e.sForm.vnext.splice(s,1,t)}}})}))],2)},an=[],rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vnext"},[n("el-form",{staticClass:"text-left",attrs:{inline:!0,"label-width":"120px"}},[n("el-form-item",[n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$emit("del-vnext",e.idx)}}},[e._v("删除")])],1),n("el-form-item",{attrs:{label:"远端地址"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.address,callback:function(t){e.$set(e.sForm,"address",t)},expression:"sForm.address"}})],1),n("el-form-item",{attrs:{label:"远端端口"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.port,callback:function(t){e.$set(e.sForm,"port",e._n(t))},expression:"sForm.port"}})],1)],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.sForm.users}},[n("el-table-column",{attrs:{prop:"id",label:"op",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.delUser(t.$index)}}})]}}])},[n("template",{slot:"header"},[n("i",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.newUser}})])],2),n("el-table-column",{attrs:{prop:"id",label:"id",width:"320"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"id"},model:{value:t.row.id,callback:function(n){e.$set(t.row,"id",n)},expression:"scope.row.id"}})]}}])}),n("el-table-column",{attrs:{prop:"level",label:"level",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input-number",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"level"},model:{value:t.row.level,callback:function(n){e.$set(t.row,"level",n)},expression:"scope.row.level"}})]}}])}),n("el-table-column",{attrs:{prop:"alterId",label:"alterId",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input-number",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"alterId"},model:{value:t.row.alterId,callback:function(n){e.$set(t.row,"alterId",n)},expression:"scope.row.alterId"}})]}}])}),n("el-table-column",{attrs:{prop:"security",label:"security"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"security"},model:{value:t.row.security,callback:function(n){e.$set(t.row,"security",n)},expression:"scope.row.security"}},e._l(e.securities,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)]}}])})],1)],1)},ln=[],cn={name:"VmessVnext",model:{prop:"setting",event:"change"},methods:{newUser:function(){this.sForm.users.push({id:"",level:0,alterId:4,security:"auto"})},delUser:function(e){this.sForm.users.splice(e,1)},getSettings:function(){return Object.assign({},this.sForm)},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;e=this.setting||{},e=this._.pick(e,["id","address","port","users"]),this.sForm=this._.defaults(e,this.sForm);var n=this.sForm.users||[];this.sForm.users=[],n.forEach((function(e){t.sForm.users.push(Object.assign({id:"",level:0,alterId:4,security:"auto"},e))}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{securities:y,changedByForm:!1,sForm:{address:"127.0.0.1",port:37192,users:[{id:"",level:0,alterId:4,security:"auto"}]}}},props:{setting:{type:Object},idx:{type:Number}},computed:{clientDefault:{get:function(){return this.sForm.default},set:function(e){this.sForm.default=e}}}},un=cn,mn=(n("8644"),Object(h["a"])(un,rn,ln,!1,null,"e334d07a",null)),dn=mn.exports,pn=0,fn={name:"VmessOutboundSetting",components:{VmessVnext:dn},model:{prop:"setting",event:"change"},methods:{newVnext:function(){this.sForm.vnext.push({id:pn++})},delVnext:function(e){this.sForm.vnext.splice(e,1),this.formChanged()},getSettings:function(){var e=this._.cloneDeep(this.sForm),t=e.vnext||[];return t.forEach((function(e){delete e.id})),e},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;e=this.setting||{};var n=e.vnext||[],s=this.sForm.vnext||[];this.sForm.vnext=[],n.forEach((function(e){var n=t._.find(s,{address:e.address,port:e.port}),o=n?n.id:pn++;t.sForm.vnext.push(Object.assign({id:o},e))})),0==this.sForm.vnext.length&&this.sForm.vnext.push({id:pn++}),this.$nextTick().then((function(){t.formChanged()}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{changedByForm:!1,sForm:{vnext:[{id:pn++}]}}},props:{setting:{type:Object}},computed:{clientDefault:{get:function(){return this.sForm.default},set:function(e){this.sForm.default=e}}}},hn=fn,gn=Object(h["a"])(hn,on,an,!1,null,"338ccae0",null),vn=gn.exports,bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" 远端主机列表："),n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.newServer}},[e._v("新增")]),e._l(e.sForm.servers,(function(t,s){return n("HttpServer",{directives:[{name:"setting",rawName:"v-setting"}],key:t.id,attrs:{setting:t,idx:s},on:{"del-server":e.delServer,change:function(t){return e.sForm.servers.splice(s,1,t)}}})}))],2)},Fn=[],wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vnext"},[n("el-form",{staticClass:"text-left",attrs:{inline:!0,"label-width":"120px"}},[n("el-form-item",[n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$emit("del-server",e.idx)}}},[e._v("删除")])],1),n("el-form-item",{attrs:{label:"远端地址"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.address,callback:function(t){e.$set(e.sForm,"address",t)},expression:"sForm.address"}})],1),n("el-form-item",{attrs:{label:"远端端口"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.port,callback:function(t){e.$set(e.sForm,"port",e._n(t))},expression:"sForm.port"}})],1)],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.sForm.users}},[n("el-table-column",{attrs:{prop:"id",label:"op",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.delUser(t.$index)}}})]}}])},[n("template",{slot:"header"},[n("i",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.newUser}})])],2),n("el-table-column",{attrs:{prop:"user",label:"user"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"user"},model:{value:t.row.user,callback:function(n){e.$set(t.row,"user",n)},expression:"scope.row.user"}})]}}])}),n("el-table-column",{attrs:{prop:"pass",label:"pass"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"pass"},model:{value:t.row.pass,callback:function(n){e.$set(t.row,"pass",n)},expression:"scope.row.pass"}})]}}])})],1)],1)},yn=[],Sn={name:"HttpServer",model:{prop:"setting",event:"change"},methods:{newUser:function(){this.sForm.users.push({user:"",pass:""})},delUser:function(e){this.sForm.users.splice(e,1),this.formChanged()},getSettings:function(){return Object.assign({},this.sForm)},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;e=this.setting||{},e=this._.pick(e,["id","address","port","users"]),this.sForm=this._.defaults(e,this.sForm);var n=this.sForm.users||[];this.sForm.users=[],n.forEach((function(e){t.sForm.users.push(Object.assign({user:"",pass:""},e))})),this.$nextTick().then((function(){t.formChanged()}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{securities:y,changedByForm:!1,sForm:{address:"127.0.0.1",port:37192,users:[]}}},props:{setting:{type:Object},idx:{type:Number}},computed:{}},kn=Sn,xn=(n("f728"),Object(h["a"])(kn,wn,yn,!1,null,"223d855e",null)),_n=xn.exports,$n=0,Cn={name:"HttpOutboundSetting",components:{HttpServer:_n},model:{prop:"setting",event:"change"},methods:{newServer:function(){this.sForm.servers.push({id:$n++})},delServer:function(e){this.sForm.servers.splice(e,1),this.formChanged()},getSettings:function(){var e=this._.cloneDeep(this.sForm),t=e.servers||[];return t.forEach((function(e){delete e.id})),e},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;e=this.setting||{};var n=e.servers||[],s=this.sForm.servers||[];this.sForm.servers=[],n.forEach((function(e){var n=t._.find(s,{address:e.address,port:e.port}),o=n?n.id:$n++;t.sForm.servers.push(Object.assign({id:o},e))})),0==this.sForm.servers.length&&this.sForm.servers.push({id:$n++}),this.$nextTick().then((function(){t.formChanged()}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{changedByForm:!1,sForm:{servers:[{id:$n++}]}}},props:{setting:{type:Object}},computed:{clientDefault:{get:function(){return this.sForm.default},set:function(e){this.sForm.default=e}}}},On=Cn,jn=Object(h["a"])(On,bn,Fn,!1,null,"3e3abe99",null),Nn=jn.exports,Dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{staticClass:"text-left",attrs:{inline:!1,"label-width":"110px"}},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"domainStrategy"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.domainStrategy,callback:function(t){e.$set(e.sForm,"domainStrategy",t)},expression:"sForm.domainStrategy"}},[n("el-option",{attrs:{label:"AsIs",value:"AsIs"}}),n("el-option",{attrs:{label:"UseIP",value:"UseIP"}}),n("el-option",{attrs:{label:"UseIPv4",value:"UseIPv4"}}),n("el-option",{attrs:{label:"UseIPv6",value:"UseIPv6"}})],1)],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"redirect"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.redirect,callback:function(t){e.$set(e.sForm,"redirect",t)},expression:"sForm.redirect"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"userLevel"}},[n("el-input-number",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.userLevel,callback:function(t){e.$set(e.sForm,"userLevel",t)},expression:"sForm.userLevel"}})],1)],1)],1)],1)],1)},Bn=[],In={name:"OutboundFreedomSetting",model:{prop:"setting",event:"change"},methods:{getSettings:function(){return Object.assign({},this.sForm)},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;e=this.setting||{},e=this._.pick(e,["domainStrategy","redirect","userLevel"]),this.sForm=this._.defaults(e,this.sForm),this.$nextTick().then((function(){t.formChanged()}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{changedByForm:!1,sForm:{domainStrategy:"AsIs",redirect:"",userLevel:0}}},props:{setting:{type:Object}},computed:{}},Tn=In,Vn=Object(h["a"])(Tn,Dn,Bn,!1,null,"58cd2bc8",null),Pn=Vn.exports,Rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{staticClass:"text-left",attrs:{inline:!1,"label-width":"110px"}},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"responseType"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.response.type,callback:function(t){e.$set(e.sForm.response,"type",t)},expression:"sForm.response.type"}},[n("el-option",{attrs:{value:"none"}}),n("el-option",{attrs:{value:"http"}})],1)],1)],1)],1)],1),e._m(0),n("p",[e._v('当 responseType 为 "none"（默认值）时，Blackhole 将直接关闭连接。当 type 为 "http" 时，Blackhole 会发回一个简单的 HTTP 403 数据包，然后关闭连接。')])],1)},En=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Blackhole（黑洞）是一个出站数据协议，它会阻碍所有数据的出站，配合 "),n("a",{attrs:{href:"https://www.v2fly.org/config/routing.html",target:"_blank"}},[e._v("路由（Routing）")]),e._v(" 一起使用，可以达到禁止访问某些网站的效果。")])}],Ln={name:"Blackhole",model:{prop:"setting",event:"change"},methods:{getSettings:function(){return Object.assign({},this.sForm)},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;e=this.setting||{},e=this._.pick(e,["response"]),this.sForm=this._.defaults(e,this.sForm),this.$nextTick().then((function(){t.formChanged()}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{changedByForm:!1,sForm:{response:{type:"none"}}}},props:{setting:{type:Object}},computed:{}},Un=Ln,An=Object(h["a"])(Un,Rn,En,!1,null,"1f5d1849",null),Mn=An.exports,Hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{staticClass:"text-left",attrs:{inline:!1,"label-width":"110px"}},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"network"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.network,callback:function(t){e.$set(e.sForm,"network",t)},expression:"sForm.network"}},[n("el-option",{attrs:{value:"tcp"}}),n("el-option",{attrs:{value:"udp"}})],1)],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"address"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.address,callback:function(t){e.$set(e.sForm,"address",t)},expression:"sForm.address"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"port"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.port,callback:function(t){e.$set(e.sForm,"port",e._n(t))},expression:"sForm.port"}})],1)],1)],1)],1),n("p",[e._v("DNS 是一个出站协议，主要用于拦截和转发 DNS 查询。此出站协议只能接收 DNS 流量（包含基于 UDP 和 TCP 协议的查询），其它类型的流量会导致错误。")]),e._m(0),n("p",[e._v("DNS 出站协议在 V2Ray 4.15 中引入。")])],1)},qn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("在处理 DNS 查询时，此出站协议会将 IP 查询（即 A 和 AAAA）转发给内置的 "),n("a",{attrs:{href:"https://www.v2fly.org/config/dns.html"}},[e._v("DNS 服务器")]),e._v("。其它类型的查询流量将被转发至它们原本的目标地址。")])}],zn={name:"OutboundDNS",model:{prop:"setting",event:"change"},methods:{getSettings:function(){return Object.assign({},this.sForm)},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;e=this.setting||{},e=this._.pick(e,["network","address","port"]),this.sForm=this._.defaults(e,this.sForm),this.$nextTick().then((function(){t.formChanged()}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{changedByForm:!1,sForm:{network:"tcp",address:"8.8.8.8",port:53}}},props:{setting:{type:Object}},computed:{}},Gn=zn,Kn=Object(h["a"])(Gn,Hn,qn,!1,null,"37a623f7",null),Jn=Kn.exports,Wn=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Qn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("该协议无特殊参数设置")])])}],Xn={name:"OutboundEmpty",model:{prop:"setting",event:"change"},methods:{getSettings:function(){return Object.assign({},this.sForm)},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(){var e=this;this.$nextTick().then((function(){e.formChanged()}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{changedByForm:!1,sForm:{}}},props:{setting:{type:Object}},computed:{}},Yn=Xn,Zn=Object(h["a"])(Yn,Wn,Qn,!1,null,"1987a5f7",null),es=Zn.exports,ts=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(" 远端主机列表："),n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.newServer}},[e._v("新增")])],1),e._l(e.sForm.servers,(function(t,s){return n("ShadowsocksServer",{directives:[{name:"setting",rawName:"v-setting"}],key:t.id,attrs:{setting:t,idx:s},on:{"del-server":e.delServer,change:function(t){return e.sForm.servers.splice(s,1,t)}}})}))],2)},ns=[],ss=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vnext"},[n("el-form",{staticClass:"text-left",attrs:{inline:!1,"label-width":"120px"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"远端地址"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.address,callback:function(t){e.$set(e.sForm,"address",t)},expression:"sForm.address"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-delete"},on:{click:function(t){return e.$emit("del-server",e.idx)}},slot:"append"})],1)],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"远端端口"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.port,callback:function(t){e.$set(e.sForm,"port",e._n(t))},expression:"sForm.port"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"加密方式"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.method,callback:function(t){e.$set(e.sForm,"method",t)},expression:"sForm.method"}},[n("el-option",{attrs:{value:"aes-256-cfb"}}),n("el-option",{attrs:{value:"aes-128-cfb"}}),n("el-option",{attrs:{value:"chacha20"}}),n("el-option",{attrs:{value:"chacha20-ietf"}}),n("el-option",{attrs:{value:"aes-256-gcm"}}),n("el-option",{attrs:{value:"aes-128-gcm"}}),n("el-option",{attrs:{value:"chacha20-poly1305"}}),n("el-option",{attrs:{value:"none"}})],1)],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"email"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.email,callback:function(t){e.$set(e.sForm,"email",t)},expression:"sForm.email"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"password"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.password,callback:function(t){e.$set(e.sForm,"password",t)},expression:"sForm.password"}})],1)],1),n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{label:"level"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.level,callback:function(t){e.$set(e.sForm,"level",e._n(t))},expression:"sForm.level"}})],1)],1),n("el-col",{attrs:{span:3}},[n("el-form-item",{attrs:{label:"ota","label-width":"60px"}},[n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.ota,callback:function(t){e.$set(e.sForm,"ota",t)},expression:"sForm.ota"}})],1)],1)],1)],1)],1)},os=[],is={name:"ShadowsocksServer",model:{prop:"setting",event:"change"},methods:{getSettings:function(){return Object.assign({},this.sForm)},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;e=e||{},e=this._.pick(e,["id","email","address","port","users","method","password","ota","level"]),this.sForm=this._.defaults(e,this.sForm),this.$nextTick().then((function(){t.formChanged()}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{securities:y,changedByForm:!1,sForm:{email:"love@v2ray.com",address:"127.0.0.1",port:1234,method:"加密方式",password:"密码",ota:!1,level:0}}},props:{setting:{type:Object},idx:{type:Number}},computed:{}},as=is,rs=(n("504e"),Object(h["a"])(as,ss,os,!1,null,"54a0638f",null)),ls=rs.exports,cs=0,us={name:"OutboundShadowsocksSetting",components:{ShadowsocksServer:ls},model:{prop:"setting",event:"change"},methods:{newServer:function(){this.sForm.servers.push({id:cs++})},delServer:function(e){this.sForm.servers.splice(e,1),this.formChanged()},getSettings:function(){var e=this._.cloneDeep(this.sForm),t=e.servers||[];return t.forEach((function(e){delete e.id})),e},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;e=this.setting||{};var n=e.servers||[],s=this.sForm.servers||[];this.sForm.servers=[],n.forEach((function(e){var n=t._.find(s,{address:e.address,port:e.port}),o=n?n.id:cs++;t.sForm.servers.push(Object.assign({id:o},e))})),0==this.sForm.servers.length&&this.sForm.servers.push({id:cs++}),this.$nextTick().then((function(){t.formChanged()}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{changedByForm:!1,sForm:{servers:[{id:cs++}]}}},props:{setting:{type:Object}},computed:{clientDefault:{get:function(){return this.sForm.default},set:function(e){this.sForm.default=e}}}},ms=us,ds=Object(h["a"])(ms,ts,ns,!1,null,"16da5f2a",null),ps=ds.exports,fs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" 远端主机列表："),n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.newServer}},[e._v("新增")]),e._l(e.sForm.servers,(function(t,s){return n("SocksServer",{directives:[{name:"setting",rawName:"v-setting"}],key:t.id,attrs:{setting:t,idx:s},on:{"del-server":e.delServer,change:function(t){return e.sForm.servers.splice(s,1,t)}}})}))],2)},hs=[],gs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vnext"},[n("el-form",{staticClass:"text-left",attrs:{inline:!0,"label-width":"120px"}},[n("el-form-item",[n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$emit("del-server",e.idx)}}},[e._v("删除")])],1),n("el-form-item",{attrs:{label:"远端地址"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.address,callback:function(t){e.$set(e.sForm,"address",t)},expression:"sForm.address"}})],1),n("el-form-item",{attrs:{label:"远端端口"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.port,callback:function(t){e.$set(e.sForm,"port",e._n(t))},expression:"sForm.port"}})],1)],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.sForm.users}},[n("el-table-column",{attrs:{prop:"id",label:"op",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.delUser(t.$index)}}})]}}])},[n("template",{slot:"header"},[n("i",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.newUser}})])],2),n("el-table-column",{attrs:{prop:"user",label:"user"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"user"},model:{value:t.row.user,callback:function(n){e.$set(t.row,"user",n)},expression:"scope.row.user"}})]}}])}),n("el-table-column",{attrs:{prop:"pass",label:"pass"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"pass"},model:{value:t.row.pass,callback:function(n){e.$set(t.row,"pass",n)},expression:"scope.row.pass"}})]}}])}),n("el-table-column",{attrs:{prop:"userLevel",label:"userLevel"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input-number",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"userLevel"},model:{value:t.row.userLevel,callback:function(n){e.$set(t.row,"userLevel",e._n(n))},expression:"scope.row.userLevel"}})]}}])})],1)],1)},vs=[],bs={name:"HttpServer",model:{prop:"setting",event:"change"},methods:{newUser:function(){this.sForm.users.push({user:"",pass:"",userLevel:0})},delUser:function(e){this.sForm.users.splice(e,1)},getSettings:function(){return Object.assign({},this.sForm)},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;e=this.setting||{},e=this._.pick(e,["id","address","port","users"]),this.sForm=this._.defaults(e,this.sForm);var n=this.sForm.users||[];this.sForm.users=[],n.forEach((function(e){t.sForm.users.push(Object.assign({user:"",pass:"",userLevel:0},e))}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{securities:y,changedByForm:!1,sForm:{address:"127.0.0.1",port:37192,users:[]}}},props:{setting:{type:Object},idx:{type:Number}},computed:{}},Fs=bs,ws=(n("49d9"),Object(h["a"])(Fs,gs,vs,!1,null,"4f8e9805",null)),ys=ws.exports,Ss=0,ks={name:"OutboundSocksSetting",components:{SocksServer:ys},model:{prop:"setting",event:"change"},methods:{newServer:function(){this.sForm.servers.push({id:Ss++})},delServer:function(e){this.sForm.servers.splice(e,1),this.formChanged()},getSettings:function(){return Object.assign({},this.sForm)},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;e=this.setting||{};var n=e.servers||[],s=this.sForm.servers||[];this.sForm.servers=[],n.forEach((function(e){var n=t._.find(s,{address:e.address,port:e.port}),o=n?n.id:Ss++;t.sForm.servers.push(Object.assign({id:o},e))})),0==this.sForm.servers.length&&this.sForm.servers.push({id:Ss++}),this.$nextTick().then((function(){t.formChanged()}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{changedByForm:!1,sForm:{servers:[{id:Ss++}]}}},props:{setting:{type:Object}},computed:{clientDefault:{get:function(){return this.sForm.default},set:function(e){this.sForm.default=e}}}},xs=ks,_s=Object(h["a"])(xs,fs,hs,!1,null,"fb6c464c",null),$s=_s.exports,Cs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" 远端主机列表："),n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.newVnext}},[e._v("新增")]),e._l(e.sForm.vnext,(function(t,s){return n("VlessVnext",{directives:[{name:"setting",rawName:"v-setting"}],key:t.id,attrs:{setting:t,idx:s},on:{"del-vnext":e.delVnext,change:function(t){return e.sForm.vnext.splice(s,1,t)}}})}))],2)},Os=[],js=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vnext"},[n("el-form",{staticClass:"text-left",attrs:{inline:!0,"label-width":"120px"}},[n("el-form-item",[n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.$emit("del-vnext",e.idx)}}},[e._v("删除")])],1),n("el-form-item",{attrs:{label:"远端地址"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.address,callback:function(t){e.$set(e.sForm,"address",t)},expression:"sForm.address"}})],1),n("el-form-item",{attrs:{label:"远端端口"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.port,callback:function(t){e.$set(e.sForm,"port",e._n(t))},expression:"sForm.port"}})],1)],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.sForm.users}},[n("el-table-column",{attrs:{prop:"id",label:"op",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.delUser(t.$index)}}})]}}])},[n("template",{slot:"header"},[n("i",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.newUser}})])],2),n("el-table-column",{attrs:{prop:"id",label:"id",width:"320"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"id"},model:{value:t.row.id,callback:function(n){e.$set(t.row,"id",n)},expression:"scope.row.id"}})]}}])}),n("el-table-column",{attrs:{prop:"level",label:"level",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input-number",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"level"},model:{value:t.row.level,callback:function(n){e.$set(t.row,"level",e._n(n))},expression:"scope.row.level"}})]}}])}),n("el-table-column",{attrs:{prop:"encryption",label:"encryption"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"encryption"},model:{value:t.row.encryption,callback:function(n){e.$set(t.row,"encryption",n)},expression:"scope.row.encryption"}},[n("el-option",{attrs:{value:"none"}})],1)]}}])})],1)],1)},Ns=[],Ds={name:"VlessVnext",model:{prop:"setting",event:"change"},methods:{newUser:function(){this.sForm.users.push({id:"",level:0,encryption:"none"})},delUser:function(e){this.sForm.users.splice(e,1)},getSettings:function(){return Object.assign({},this.sForm)},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;e=this.setting||{},e=this._.pick(e,["id","address","port","users"]),this.sForm=this._.defaults(e,this.sForm);var n=this.sForm.users||[];this.sForm.users=[],n.forEach((function(e){t.sForm.users.push(Object.assign({id:"",level:0,encryption:"none"},e))}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{securities:y,changedByForm:!1,sForm:{address:"127.0.0.1",port:37192,users:[{id:"",level:0,encryption:"none"}]}}},props:{setting:{type:Object},idx:{type:Number}},computed:{clientDefault:{get:function(){return this.sForm.default},set:function(e){this.sForm.default=e}}}},Bs=Ds,Is=(n("2e82"),Object(h["a"])(Bs,js,Ns,!1,null,"728bf444",null)),Ts=Is.exports,Vs=0,Ps={name:"VlessOutboundSetting",components:{VlessVnext:Ts},model:{prop:"setting",event:"change"},methods:{newVnext:function(){this.sForm.vnext.push({id:Vs++})},delVnext:function(e){this.sForm.vnext.splice(e,1),this.formChanged()},getSettings:function(){var e=this._.cloneDeep(this.sForm),t=e.vnext||[];return t.forEach((function(e){delete e.id})),e},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;e=this.setting||{};var n=e.vnext||[],s=this.sForm.vnext||[];this.sForm.vnext=[],n.forEach((function(e){var n=t._.find(s,{address:e.address,port:e.port}),o=n?n.id:Vs++;t.sForm.vnext.push(Object.assign({id:o},e))})),0==this.sForm.vnext.length&&this.sForm.vnext.push({id:Vs++}),this.$nextTick().then((function(){t.formChanged()}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{changedByForm:!1,sForm:{vnext:[{id:Vs++}]}}},props:{setting:{type:Object}},computed:{clientDefault:{get:function(){return this.sForm.default},set:function(e){this.sForm.default=e}}}},Rs=Ps,Es=Object(h["a"])(Rs,Cs,Os,!1,null,"31dbfb74",null),Ls=Es.exports,Us={name:"Outbound",components:{VmessOutboundSetting:vn,HttpOutboundSetting:Nn,OutboundFreedomSetting:Pn,StreamSettingsObject:Ft,Blackhole:Mn,OutboundDNS:Jn,OutboundEmpty:es,OutboundShadowsocksSetting:ps,OutboundSocksSetting:$s,VlessOutboundSetting:Ls},model:{prop:"outbound",event:"change"},data:function(){return{changedByForm:!1,protocols:w,showDetail:!1,sForm:{sendThrough:"0.0.0.0",protocol:"vmess",settings:{},tag:"标识",streamSettings:{},proxySettings:{tag:""},mux:{enabled:!1,concurrency:8}}}},created:function(){this.fillDefaultValue(this.outbound)},mounted:function(){},watch:{outbound:{handler:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)},deep:!1}},methods:{fillDefaultValue:function(e){var t=this;e=e||{},Object.assign(this.sForm,e),this.sForm.mux=Object.assign({enabled:!1,concurrency:8},this.sForm.mux),this.$nextTick().then((function(){t.formChanged()}))},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},getSettings:function(){var e=this._.cloneDeep(this.sForm);return""==e.proxySettings.tag&&delete e.proxySettings,e.mux.enabled||delete e.mux,e},switchInboundDetail:function(){this.showDetail=!this.showDetail}},props:{outbound:{type:Object},idx:{type:Number,default:function(){return 0}}}},As=Us,Ms=(n("d8f6"),Object(h["a"])(As,nn,sn,!1,null,"d59e1d74",null)),Hs=Ms.exports,qs=1,zs={name:"Outbounds",components:{Outbound:Hs},model:{prop:"outbounds",event:"change"},data:function(){return{changedByForm:!1,showAllDetail:!1,sForm:{outbounds:[]}}},created:function(){var e=this,t=this.outbounds||[];for(var n in t)this.sForm.outbounds.push(Object.assign({id:qs++},n));this.$nextTick().then((function(){e.formChanged()}))},mounted:function(){},watch:{outbounds:{handler:function(e){var t=this;if(this.changedByForm)this.changedByForm=!1;else{var n=[];e.forEach((function(e){var s=t.getInboundByTag(e.tag),o=null!=s?s.id:qs++;n.push(Object.assign({id:o},e))})),this.sForm.outbounds=n,this.$nextTick().then((function(){t.formChanged()}))}},deep:!1}},props:{outbounds:{type:Array,default:function(){return[]}}},methods:{formChanged:function(){var e=this.sForm.outbounds.map((function(e){return e.tag})).filter((function(e){return e}));this.$store.commit("setOutboundTags",e),this.changedByForm=!0,this.$emit("change",this.getSettings())},getSettings:function(){var e=JSON.parse(JSON.stringify(this.sForm.outbounds));return e.forEach((function(e){delete e.id})),e},getInboundByTag:function(e){return this._.find(this.sForm.outbounds,(function(t){return t.tag===e}))},switchAllDetail:function(){var e=this;this.$refs.outbounds&&this.$refs.outbounds.forEach((function(t){t.$data.showDetail=!e.showAllDetail})),this.showAllDetail=!this.showAllDetail},newBound:function(e){"number"!==typeof e&&(e=this.sForm.outbounds.length-1),this.sForm.outbounds.splice(e+1,0,{id:qs++})},copyBound:function(e,t){"number"!==typeof e&&(e=this.sForm.outbounds.length-1),t.id=qs++,t.tag=t.tag+"_copy",this.sForm.outbounds.splice(e+1,0,t)},delBound:function(e){this.sForm.outbounds.splice(e,1),this.formChanged()},toTop:function(e){var t,n=this.sForm.outbounds.splice(e,1);(t=this.sForm.outbounds).splice.apply(t,[0,0].concat(Object(tn["a"])(n)))}}},Gs=zs,Ks=(n("973b"),Object(h["a"])(Gs,Zt,en,!1,null,null,null)),Js=Ks.exports,Ws=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"路由设置","show-enable":!1}},[n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("ul",[n("li",[e._v('"AsIs"：只使用域名进行路由选择。默认值。')]),n("li",[e._v('"IPIfNonMatch"：当域名没有匹配任何规则时，将域名解析成 IP（A 记录或 AAAA 记录）再次进行匹配；')]),n("ul",[n("li",[e._v("当一个域名有多个 A 记录时，会尝试匹配所有的 A 记录，直到其中一个与某个规则匹配为止；")]),n("li",[e._v("解析后的 IP 仅在路由选择时起作用，转发的数据包中依然使用原始域名；")])]),n("li",[e._v('"IPOnDemand"：当匹配时碰到任何基于 IP 的规则，将域名立即解析为 IP 进行匹配；')])])]),n("label",[e._v("域名解析策略:")])]),n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],staticStyle:{width:"200px"},model:{value:e.sForm.domainStrategy,callback:function(t){e.$set(e.sForm,"domainStrategy",t)},expression:"sForm.domainStrategy"}},[n("el-option",{attrs:{value:"AsIs"}}),n("el-option",{attrs:{value:"IPIfNonMatch"}}),n("el-option",{attrs:{value:"IPOnDemand"}})],1),n("setting-card",{attrs:{title:"负载均衡器","show-enable":!1},scopedSlots:e._u([{key:"header-buttons",fn:function(){return[n("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"10px"},on:{click:e.newBalancer}})]},proxy:!0}])},e._l(e.sForm.balancers,(function(t,s){return n("el-form",{key:s,attrs:{"label-width":"80px"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"tag"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:t.tag,callback:function(n){e.$set(t,"tag",n)},expression:"b.tag"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-delete"},on:{click:function(t){return e.delBalancer(s)}},slot:"append"})],1)],1)],1),n("el-col",{attrs:{span:16}},[n("el-form-item",{attrs:{label:"selector"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{multiple:!0,filterable:"","allow-create":"",placeholder:"outbound select"},model:{value:t.selector,callback:function(n){e.$set(t,"selector",n)},expression:"b.selector"}},e._l(e.outboundTags,(function(e,t){return n("el-option",{key:t,attrs:{value:e}})})),1)],1)],1)],1)],1)})),1),n("setting-card",{attrs:{title:"规则列表","show-enable":!1},scopedSlots:e._u([{key:"header-buttons",fn:function(){return[n("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"10px"},on:{click:e.newRule}})]},proxy:!0}])},[n("transition-group",{attrs:{name:"rule-list",tag:"div"}},e._l(e.sForm.rules,(function(t,s){return n("Rule",{directives:[{name:"setting",rawName:"v-setting"}],key:t.id,attrs:{idx:s,rule:t,rules:e.sForm.rules},on:{"new-rule":e.newRule,"del-rule":e.delRule,"copy-rule":e.copyRule,change:function(t){e.sForm.rules[s]=t}}})})),1)],1)],1)},Qs=[],Xs=n("5530"),Ys=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rule-div rule-list-item"},[n("el-form",{ref:"form",attrs:{inline:!1,"label-width":"110px"}},[n("div",{staticStyle:{display:"table",width:"100%"}},[n("div",{staticStyle:{display:"table-cell",width:"140px"}},[n("div",{staticStyle:{"line-height":"40px"}},[n("i",{staticClass:"el-icon-plus",on:{click:function(t){return e.$emit("new-rule",e.idx)}}}),n("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.$emit("del-rule",e.idx)}}}),n("i",{staticClass:"el-icon-copy-document",on:{click:function(t){e.$emit("copy-rule",e.idx,e.getSetting())}}}),n("ItemUpDownIcons",{attrs:{items:e.rules,idx:e.idx}}),n("el-dropdown",{attrs:{"hide-on-click":!1},on:{command:e.ruleItemClick}},[n("i",{staticClass:"el-icon-menu"}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{icon:e.domainShow?"el-icon-circle-check":"el-icon-remove-outline",command:"domain"}},[e._v("domain ")]),n("el-dropdown-item",{attrs:{icon:e.ipShow?"el-icon-circle-check":"el-icon-remove-outline",command:"ip"}},[e._v(" ip ")]),n("el-dropdown-item",{attrs:{icon:e.portShow?"el-icon-circle-check":"el-icon-remove-outline",command:"port"}},[e._v("port ")]),n("el-dropdown-item",{attrs:{icon:e.networkShow?"el-icon-circle-check":"el-icon-remove-outline",command:"network"}},[e._v("network ")]),n("el-dropdown-item",{attrs:{icon:e.sourceShow?"el-icon-circle-check":"el-icon-remove-outline",command:"source"}},[e._v("source ")]),n("el-dropdown-item",{attrs:{icon:e.userShow?"el-icon-circle-check":"el-icon-remove-outline",command:"user"}},[e._v("user ")]),n("el-dropdown-item",{attrs:{icon:e.inboundTagShow?"el-icon-circle-check":"el-icon-remove-outline",command:"inboundTag"}},[e._v("inboundTag ")]),n("el-dropdown-item",{attrs:{icon:e.protocolShow?"el-icon-circle-check":"el-icon-remove-outline",command:"protocol"}},[e._v("protocol ")]),n("el-dropdown-item",{attrs:{icon:e.attrsShow?"el-icon-circle-check":"el-icon-remove-outline",command:"attrs"}},[e._v("attrs ")])],1)],1)],1)]),n("div",{staticStyle:{display:"table-cell"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"type:","label-width":"50px"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.type,callback:function(t){e.$set(e.sForm,"type",t)},expression:"sForm.type"}},[n("el-option",{attrs:{value:"field"}})],1)],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"outboundTag:"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"outboundTag",filterable:"","allow-create":""},model:{value:e.sForm.outboundTag,callback:function(t){e.$set(e.sForm,"outboundTag",t)},expression:"sForm.outboundTag"}},e._l(e.outboundTags,(function(e){return n("el-option",{key:e,attrs:{value:e}})})),1)],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"balancerTag:"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"balancerTag"},model:{value:e.sForm.balancerTag,callback:function(t){e.$set(e.sForm,"balancerTag",t)},expression:"sForm.balancerTag"}},e._l(e.balancersTag,(function(e){return n("el-option",{key:e,attrs:{value:e}})})),1)],1)],1)],1)],1)]),n("el-row",{staticClass:"rule-item-row"},[e.domainShow?n("el-col",{attrs:{span:12},nativeOn:{mouseover:function(t){return e.ruleItemMouseEnter("domain")},mouseout:function(t){return e.ruleItemMouseLeave("domain")}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.ruleItemCloseShow.domain,expression:"ruleItemCloseShow.domain"}],staticClass:"el-icon-remove-outline rule-item-close",on:{click:function(t){return e.ruleItemClick("domain")}}}),n("el-form-item",{attrs:{label:"domain:"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("ul",[n("li",[e._v('纯字符串：当此字符串匹配目标域名中任意部分，该规则生效。比如 "sina.com" 可以匹配 "sina.com"、"sina.com.cn" 和 "www.sina.com"，但不匹配 "sina.cn"。 ')]),n("li",[e._v("正则表达式：由 "),n("code",[e._v('"regexp:"')]),e._v(' 开始，余下部分是一个正则表达式。当此正则表达式匹配目标域名时，该规则生效。例如 "regexp:\\\\.goo.*\\\\.com$" 匹配 "www.google.com"、"fonts.googleapis.com"，但不匹配 "google.com"。 ')]),n("li",[e._v("子域名（推荐）：由 "),n("code",[e._v('"domain:"')]),e._v(' 开始，余下部分是一个域名。当此域名是目标域名或其子域名时，该规则生效。例如 "domain:v2ray.com" 匹配 "www.v2ray.com"、"v2ray.com"，但不匹配 "xv2ray.com"。 ')]),n("li",[e._v("完整匹配：由 "),n("code",[e._v('"full:"')]),e._v(' 开始，余下部分是一个域名。当此域名完整匹配目标域名时，该规则生效。例如 "full:v2ray.com" 匹配 "v2ray.com" 但不匹配 "www.v2ray.com"。 ')]),n("li",[e._v("预定义域名列表：由 "),n("code",[e._v('"geosite:"')]),e._v(" 开头，余下部分是一个名称，如 "),n("code",[e._v("geosite:google")]),e._v(" 或者 "),n("code",[e._v("geosite:cn")]),e._v("。名称及域名列表参考 "),n("a",{attrs:{target:"_blank",href:"https://www.v2fly.org/config/routing.html#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E5%88%97%E8%A1%A8"}},[e._v("预定义域名列表")]),e._v("。 ")]),n("li",[e._v("从文件中加载域名：形如 "),n("code",[e._v('"ext:file:tag"')]),e._v("，必须以 "),n("code",[e._v("ext:")]),e._v("（小写）开头，后面跟文件名和标签，文件存放在 "),n("a",{attrs:{target:"_blank",href:"https://www.v2fly.org/config/env.html#资源文件路径"}},[e._v("资源目录")]),e._v(" 中，文件格式与 "),n("code",[e._v("geosite.dat")]),e._v(" 相同，标签必须在文件中存在。 ")])])]),n("label",[e._v("domain:")])])]},proxy:!0}],null,!1,2470980088)},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{type:"textarea",rows:"3",placeholder:"domain"},model:{value:e.domainValue,callback:function(t){e.domainValue=t},expression:"domainValue"}})],1)],1):e._e(),e.ipShow?n("el-col",{attrs:{span:12},nativeOn:{mouseover:function(t){return e.ruleItemMouseEnter("ip")},mouseout:function(t){return e.ruleItemMouseLeave("ip")}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.ruleItemCloseShow.ip,expression:"ruleItemCloseShow.ip"}],staticClass:"el-icon-remove-outline rule-item-close",on:{click:function(t){return e.ruleItemClick("ip")}}}),n("el-form-item",{attrs:{label:"ip:"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("ul",[n("li",[e._v("IP：形如 "),n("code",[e._v('"127.0.0.1"')]),e._v("。")]),n("li",[n("a",{attrs:{href:"https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing",target:"_blank",rel:"noopener noreferrer"}},[e._v("CIDR "),n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})])]),e._v("：形如 "),n("code",[e._v('"10.0.0.0/8"')]),e._v("。 ")]),n("li",[e._v("GeoIP：形如 "),n("code",[e._v('"geoip:cn"')]),e._v("，必须以 "),n("code",[e._v("geoip:")]),e._v("（小写）开头，后面跟双字符国家代码，支持几乎所有可以上网的国家。 "),n("ul",[n("li",[e._v("特殊值："),n("code",[e._v('"geoip:private"')]),e._v("（V2Ray 3.5+），包含所有私有地址，如 "),n("code",[e._v("127.0.0.1")]),e._v("。 ")])])]),n("li",[e._v("从文件中加载 IP：形如 "),n("code",[e._v('"ext:file:tag"')]),e._v("，必须以 "),n("code",[e._v("ext:")]),e._v("（小写）开头，后面跟文件名和标签，文件存放在 "),n("a",{attrs:{href:"/config/env.html#资源文件路径"}},[e._v("资源目录")]),e._v(" 中，文件格式与 "),n("code",[e._v("geoip.dat")]),e._v(" 相同标签必须在文件中存在。 ")])])]),n("label",[e._v("ip:")])])]},proxy:!0}],null,!1,2892272957)},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{type:"textarea",rows:"3",placeholder:"ip"},model:{value:e.ipValue,callback:function(t){e.ipValue=t},expression:"ipValue"}})],1)],1):e._e(),e.portShow?n("el-col",{attrs:{span:12},nativeOn:{mouseover:function(t){return e.ruleItemMouseEnter("port")},mouseout:function(t){return e.ruleItemMouseLeave("port")}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.ruleItemCloseShow.port,expression:"ruleItemCloseShow.port"}],staticClass:"el-icon-remove-outline rule-item-close",on:{click:function(t){return e.ruleItemClick("port")}}}),n("el-form-item",{attrs:{label:"port:"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"port"},model:{value:e.sForm.port,callback:function(t){e.$set(e.sForm,"port",t)},expression:"sForm.port"}})],1)],1):e._e(),e.networkShow?n("el-col",{attrs:{span:12},nativeOn:{mouseover:function(t){return e.ruleItemMouseEnter("network")},mouseout:function(t){return e.ruleItemMouseLeave("network")}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.ruleItemCloseShow.network,expression:"ruleItemCloseShow.network"}],staticClass:"el-icon-remove-outline rule-item-close",on:{click:function(t){return e.ruleItemClick("network")}}}),n("el-form-item",{attrs:{label:"network:"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"network"},model:{value:e.sForm.network,callback:function(t){e.$set(e.sForm,"network",t)},expression:"sForm.network"}},[n("el-option",{attrs:{value:"tcp"}}),n("el-option",{attrs:{value:"udp"}}),n("el-option",{attrs:{value:"tcp,udp"}})],1)],1)],1):e._e(),e.sourceShow?n("el-col",{attrs:{span:12},nativeOn:{mouseover:function(t){return e.ruleItemMouseEnter("source")},mouseout:function(t){return e.ruleItemMouseLeave("source")}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.ruleItemCloseShow.source,expression:"ruleItemCloseShow.source"}],staticClass:"el-icon-remove-outline rule-item-close",on:{click:function(t){return e.ruleItemClick("source")}}}),n("el-form-item",{attrs:{label:"source:"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"source"},model:{value:e.sourceValue,callback:function(t){e.sourceValue=t},expression:"sourceValue"}})],1)],1):e._e(),e.userShow?n("el-col",{attrs:{span:12},nativeOn:{mouseover:function(t){return e.ruleItemMouseEnter("user")},mouseout:function(t){return e.ruleItemMouseLeave("user")}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.ruleItemCloseShow.user,expression:"ruleItemCloseShow.user"}],staticClass:"el-icon-remove-outline rule-item-close",on:{click:function(t){return e.ruleItemClick("user")}}}),n("el-form-item",{attrs:{label:"user:"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"user"},model:{value:e.userValue,callback:function(t){e.userValue=t},expression:"userValue"}})],1)],1):e._e(),e.inboundTagShow?n("el-col",{attrs:{span:12},nativeOn:{mouseover:function(t){return e.ruleItemMouseEnter("inboundTag")},mouseout:function(t){return e.ruleItemMouseLeave("inboundTag")}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.ruleItemCloseShow.inboundTag,expression:"ruleItemCloseShow.inboundTag"}],staticClass:"el-icon-remove-outline rule-item-close",on:{click:function(t){return e.ruleItemClick("inboundTag")}}}),n("el-form-item",{attrs:{label:"inboundTag:"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{multiple:!0,filterable:"","allow-create":"",placeholder:"inboundTag"},model:{value:e.sForm.inboundTag,callback:function(t){e.$set(e.sForm,"inboundTag",t)},expression:"sForm.inboundTag"}},e._l(e.inboundTags,(function(e,t){return n("el-option",{key:t,attrs:{value:e}})})),1)],1)],1):e._e(),e.protocolShow?n("el-col",{attrs:{span:12},nativeOn:{mouseover:function(t){return e.ruleItemMouseEnter("protocol")},mouseout:function(t){return e.ruleItemMouseLeave("protocol")}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.ruleItemCloseShow.protocol,expression:"ruleItemCloseShow.protocol"}],staticClass:"el-icon-remove-outline rule-item-close",on:{click:function(t){return e.ruleItemClick("protocol")}}}),n("el-form-item",{attrs:{label:"protocol:"}},[n("el-select",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{multiple:!0,placeholder:"protocol"},model:{value:e.sForm.protocol,callback:function(t){e.$set(e.sForm,"protocol",t)},expression:"sForm.protocol"}},[n("el-option",{attrs:{value:"http"}}),n("el-option",{attrs:{value:"tls"}}),n("el-option",{attrs:{value:"bittorrent"}})],1)],1)],1):e._e(),e.attrsShow?n("el-col",{attrs:{span:12},nativeOn:{mouseover:function(t){return e.ruleItemMouseEnter("attrs")},mouseout:function(t){return e.ruleItemMouseLeave("attrs")}}},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.ruleItemCloseShow.attrs,expression:"ruleItemCloseShow.attrs"}],staticClass:"el-icon-remove-outline rule-item-close",on:{click:function(t){return e.ruleItemClick("attrs")}}}),n("el-form-item",{attrs:{label:"attrs:"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"attrs"},model:{value:e.sForm.attrs,callback:function(t){e.$set(e.sForm,"attrs",t)},expression:"sForm.attrs"}})],1)],1):e._e()],1)],1)],1)},Zs=[],eo=(n("c975"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e.isFirst?e._e():n("i",{staticClass:"el-icon-upload2",on:{click:e.moveTop}}),e.isFirst?e._e():n("i",{staticClass:"el-icon-top",on:{click:e.moveUp}}),e.isLast?e._e():n("i",{staticClass:"el-icon-bottom",on:{click:e.moveDown}}),e.isLast?e._e():n("i",{staticClass:"el-icon-download",on:{click:e.moveBottom}})])}),to=[],no={name:"ItemUpDownIcons",computed:{isFirst:function(){return 0===this.idx},isLast:function(){return this.idx===this.items.length-1}},methods:{moveUp:function(){var e,t=this.items.splice(this.idx,1);(e=this.items).splice.apply(e,[this.idx-1,0].concat(Object(tn["a"])(t)))},moveTop:function(){var e,t=this.items.splice(this.idx,1);(e=this.items).splice.apply(e,[0,0].concat(Object(tn["a"])(t)))},moveDown:function(){var e,t=this.items.splice(this.idx,1);(e=this.items).splice.apply(e,[this.idx+1,0].concat(Object(tn["a"])(t)))},moveBottom:function(){var e,t=this.items.splice(this.idx,1);(e=this.items).push.apply(e,Object(tn["a"])(t))}},props:{items:{type:Array,default:function(){return[]}},idx:{type:Number,default:function(){return 0}}}},so=no,oo=Object(h["a"])(so,eo,to,!1,null,"57d6ed89",null),io=oo.exports,ao=n("2f62"),ro={name:"Rule",components:{ItemUpDownIcons:io},model:{prop:"rule",event:"change"},props:{rule:{type:Object},rules:{type:Array},idx:{type:Number}},methods:{ruleItemMouseEnter:function(e){this.ruleItemCloseShow[e]=!0},ruleItemMouseLeave:function(e){this.ruleItemCloseShow[e]=!1},ruleItemClick:function(e){var t=!0,n=!0;-1!=this._.indexOf(["port","network","attrs"],e)&&(t=!1),"undefined"!==typeof this.sForm[e]&&null!==this.sForm[e]||(n=!1),n?(this.sForm[e]=null,this.ruleItemCloseShow[e]=!1):t?this.$set(this.sForm,e,[]):this.$set(this.sForm,e,""),this.formChanged()},getSetting:function(){return this._.cloneDeep(this.sForm)},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSetting())}},computed:Object(Xs["a"])(Object(Xs["a"])({},Object(ao["b"])({inboundTags:"getAllInboundTags",outboundTags:"getAllOutboundTags",balancersTag:"getBalancersTag"})),{},{domainShow:function(){return"undefined"!==typeof this.sForm.domain&&null!==this.sForm.domain},domainValue:{get:function(){return this.sForm.domain?this.sForm.domain.join("\n"):""},set:function(e){this.sForm.domain=e.split("\n")}},ipShow:function(){return"undefined"!==typeof this.sForm.ip&&null!==this.sForm.ip},ipValue:{get:function(){return this.sForm.ip?this.sForm.ip.join("\n"):""},set:function(e){this.sForm.ip=e.split("\n")}},sourceShow:function(){return"undefined"!==typeof this.sForm.source&&null!==this.sForm.source},sourceValue:{get:function(){return this.sForm.source?this.sForm.source.join(","):""},set:function(e){this.sForm.source=e.split(",")}},userShow:function(){return"undefined"!==typeof this.sForm.user&&null!==this.sForm.user},userValue:{get:function(){return this.sForm.user?this.sForm.user.join(","):""},set:function(e){this.sForm.user=e.split(",")}},inboundTagShow:function(){return"undefined"!==typeof this.sForm.inboundTag&&null!==this.sForm.inboundTag},inboundTagValue:{get:function(){return this.sForm.inboundTag?this.sForm.inboundTag.join(","):""},set:function(e){this.sForm.inboundTag=e.split(",")}},portShow:function(){return"undefined"!==typeof this.sForm.port&&null!==this.sForm.port},attrsShow:function(){return"undefined"!==typeof this.sForm.attrs&&null!==this.sForm.attrs},networkShow:function(){return"undefined"!==typeof this.sForm.network&&null!==this.sForm.network},protocolShow:function(){return"undefined"!==typeof this.sForm.protocol&&null!==this.sForm.protocol}}),data:function(){return{changedByForm:!1,ruleItemCloseShow:{domain:!1,ip:!1,port:!1,sourcePort:!1,network:!1,source:!1,user:!1,inboundTag:!1,protocol:!1,attrs:!1},sForm:{type:"field",outboundTag:"direct",balancerTag:""}}},created:function(){this.sForm=Object.assign({},this.sForm,this._.cloneDeep(this.rule)),this.formChanged()},watch:{rule:function(e){this.sForm=Object.assign({},this.sForm,this._.cloneDeep(e))}}},lo=ro,co=(n("66b7"),Object(h["a"])(lo,Ys,Zs,!1,null,null,null)),uo=co.exports,mo=0,po=0,fo={name:"Routing",components:{Rule:uo},model:{prop:"setting",event:"change"},data:function(){return{sForm:{domainStrategy:"AsIs",rules:[],balancers:[]}}},props:{setting:{type:Object}},computed:Object(Xs["a"])({},Object(ao["b"])({outboundTags:"getAllOutboundTags"})),methods:{fillDefaultValue:function(e){e=e||{},Object.assign(this.sForm,e);var t=this.sForm.rules||[];t.forEach((function(e){"undefined"!==typeof e.id&&e.id>mo&&(mo=e.id)}));var n={};t.forEach((function(e){"undefined"!==typeof e.id&&"undefined"===typeof n[e.id]||(e.id=mo++),n[e.id]=e.id}));var s=this.sForm.balancers||[];s.forEach((function(e){"undefined"!==typeof e.id&&e.id>po&&(po=e.id)})),n={},s.forEach((function(e){"undefined"!==typeof e.id&&"undefined"===typeof n[e.id]||(e.id=po++),n[e.id]=e.id}))},newRule:function(e){"number"!==typeof e&&(e=this.sForm.rules.length-1),this.sForm.rules.splice(e+1,0,{id:mo++,domain:[],ip:[],inboundTag:[]})},copyRule:function(e,t){"number"!==typeof e&&(e=this.sForm.rules.length-1),t.id=mo++,this.sForm.rules.splice(e+1,0,t)},delRule:function(e){this.sForm.rules.splice(e,1),this.formChanged()},newBalancer:function(e){"number"!==typeof e&&(e=this.sForm.balancers.length-1),this.sForm.balancers.splice(e+1,0,{id:po++})},delBalancer:function(e){this.sForm.balancers.splice(e,1),this.formChanged()},getSetting:function(){return Object.assign({},this.sForm)},formChanged:function(){var e=this.sForm.balancers.map((function(e){return e.tag})).filter((function(e){return e}));this.$store.commit("setBalancersTag",e),this.changedByForm=!0,this.$emit("change",this.getSetting())}},created:function(){this.fillDefaultValue(this.setting),this.formChanged()},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}}},ho=fo,go=(n("6c26"),Object(h["a"])(ho,Ws,Qs,!1,null,null,null)),vo=go.exports,bo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"Reverse反向代理","show-enable":!0,enableSetting:e.enableSetting},on:{"update:enableSetting":[e.enableSettingChanged,function(t){e.enableSetting=t}],"update:enable-setting":function(t){e.enableSetting=t}}},[n("h2",[e._v("bridge")]),n("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.sForm.bridges}},[n("el-table-column",{attrs:{label:"op",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.delBridge(t.$index)}}})]}}])},[n("template",{slot:"header"},[n("i",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.newBridge}})])],2),n("el-table-column",{attrs:{prop:"tag",label:"tag"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"tag"},model:{value:t.row.tag,callback:function(n){e.$set(t.row,"tag",n)},expression:"scope.row.tag"}})]}}])}),n("el-table-column",{attrs:{prop:"domain",label:"domain"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"domain"},model:{value:t.row.domain,callback:function(n){e.$set(t.row,"domain",n)},expression:"scope.row.domain"}})]}}])})],1),n("h2",[e._v("portals:")]),n("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.sForm.portals}},[n("el-table-column",{attrs:{label:"op",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.delPortal(t.$index)}}})]}}])},[n("template",{slot:"header"},[n("i",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.newPortal}})])],2),n("el-table-column",{attrs:{prop:"tag",label:"tag"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"tag"},model:{value:t.row.tag,callback:function(n){e.$set(t.row,"tag",n)},expression:"scope.row.tag"}})]}}])}),n("el-table-column",{attrs:{prop:"domain",label:"domain"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"domain"},model:{value:t.row.domain,callback:function(n){e.$set(t.row,"domain",n)},expression:"scope.row.domain"}})]}}])})],1)],1)},Fo=[],wo={name:"Reverse",model:{prop:"setting",event:"change"},created:function(){this.fillDefaultValue(this.setting)},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},methods:{fillDefaultValue:function(e){var t=this;e=e||{},Object.assign(this.sForm,e);var n=this.sForm.bridges||[],s=this.sForm.portals||[];n.forEach((function(e){Object.assign({tag:"",domain:""},e)})),s.forEach((function(e){Object.assign({tag:"",domain:""},e)})),this.sForm.portals=this._.cloneDeep(s),this.sForm.bridges=this._.cloneDeep(n),this.$nextTick().then((function(){t.formChanged()}))},newPortal:function(){this.sForm.portals.push({tag:"",domain:""})},delPortal:function(e){this.sForm.portals.splice(e,1),this.formChanged()},newBridge:function(){this.sForm.bridges.push({tag:"",domain:""})},delBridge:function(e){this.sForm.bridges.splice(e,1),this.formChanged()},getSettings:function(){return this.enableSetting?Object.assign({},this.sForm):null},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))},formChanged:function(){if(this.enableSetting){var e=this.sForm.portals.map((function(e){return e.tag})).filter((function(e){return e})),t=this.sForm.bridges.map((function(e){return e.tag})).filter((function(e){return e}));this.$store.commit("setPortalTags",e),this.$store.commit("setBridgeTags",t)}else this.$store.commit("setPortalTags",[]),this.$store.commit("setBridgeTags",[]);var n=this.getSettings();null==n&&null==this.setting||(this.changedByForm=!0,this.$emit("change",n))}},data:function(){return{enableSetting:!0,changedByForm:!1,sForm:{bridges:[],portals:[]}}},props:{setting:{type:Object}}},yo=wo,So=Object(h["a"])(yo,bo,Fo,!1,null,"6a783c66",null),ko=So.exports,xo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"全局传输设置","show-enable":!0,enableSetting:e.enableSetting},on:{"update:enableSetting":[e.enableSettingChanged,function(t){e.enableSetting=t}],"update:enable-setting":function(t){e.enableSetting=t}}},[n("TcpObject",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.tcpSettings,callback:function(t){e.$set(e.sForm,"tcpSettings",t)},expression:"sForm.tcpSettings"}}),n("WebSocketObject",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.wsSettings,callback:function(t){e.$set(e.sForm,"wsSettings",t)},expression:"sForm.wsSettings"}}),n("Http2Object",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.httpSettings,callback:function(t){e.$set(e.sForm,"httpSettings",t)},expression:"sForm.httpSettings"}}),n("DomainSocketObject",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.dsSettings,callback:function(t){e.$set(e.sForm,"dsSettings",t)},expression:"sForm.dsSettings"}}),n("QuicObject",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.quicSettings,callback:function(t){e.$set(e.sForm,"quicSettings",t)},expression:"sForm.quicSettings"}}),n("KcpObject",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.kcpSettings,callback:function(t){e.$set(e.sForm,"kcpSettings",t)},expression:"sForm.kcpSettings"}})],1)},_o=[],$o={name:"GlobalTransport",components:{WebSocketObject:ce,Http2Object:he,DomainSocketObject:ye,TcpObject:ze,QuicObject:Xe,KcpObject:st},model:{prop:"setting",event:"change"},created:function(){var e=this.setting||{};Object.assign(this.sForm,e),this.formChanged()},mounted:function(){},watch:{setting:function(e){if(this.changedByForm)this.changedByForm=!1;else{var t=e||{};Object.assign(this.sForm,t),this.formChanged()}}},methods:{getSettings:function(){return this.enableSetting?Object.assign({},this.sForm):null},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())}},data:function(){return{sForm:{tcpSettings:{},kcpSettings:{},wsSettings:{},httpSettings:{},dsSettings:{},quicSettings:{}},changedByForm:!1,enableSetting:!1}},props:{setting:{type:Object}}},Co=$o,Oo=(n("0502"),Object(h["a"])(Co,xo,_o,!1,null,"5b6e4cbe",null)),jo=Oo.exports,No=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"Policy 本地策略","show-enable":!0,enableSetting:e.enableSetting},on:{"update:enableSetting":[e.enableSettingChanged,function(t){e.enableSetting=t}],"update:enable-setting":function(t){e.enableSetting=t}},scopedSlots:e._u([{key:"header-buttons",fn:function(){return[n("i",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"10px"},on:{click:e.newLevel}})]},proxy:!0}])},[n("el-form",{attrs:{"label-width":"150px"}},[n("el-row",[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"statsInboundUplink"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 当值为 true 时，开启所有入站代理的上行流量统计。 ")]),n("label",[e._v("statsInboundUplink")])]),n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.system.statsInboundUplink,callback:function(t){e.$set(e.sForm.system,"statsInboundUplink",t)},expression:"sForm.system.statsInboundUplink"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"statsInboundDownlink"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 当值为 true 时，开启所有入站代理的下行流量统计。 ")]),n("label",[e._v("statsInboundDownlink")])]),n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.system.statsInboundDownlink,callback:function(t){e.$set(e.sForm.system,"statsInboundDownlink",t)},expression:"sForm.system.statsInboundDownlink"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"statsOutboundUplink"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(" （ V2Ray 4.26.0+ ）当值为 true 时，开启所有出站代理的上行流量统计。 ")]),n("label",[e._v("statsOutboundUplink")])]),n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.system.statsOutboundUplink,callback:function(t){e.$set(e.sForm.system,"statsOutboundUplink",t)},expression:"sForm.system.statsOutboundUplink"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"statsOutboundDownlink"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(" （ V2Ray 4.26.0+ ） 当值为 true 时，开启所有出站代理的下行流量统计。 ")]),n("label",[e._v("statsOutboundDownlink")])]),n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.system.statsOutboundDownlink,callback:function(t){e.$set(e.sForm.system,"statsOutboundDownlink",t)},expression:"sForm.system.statsOutboundDownlink"}})],1)],1)],1)],1),e._l(e.levelKeys,(function(t,s){return n("LevelPolicyObject",{directives:[{name:"setting",rawName:"v-setting"}],key:t,attrs:{level:t,setting:e.sForm.levels[t]},on:{"del-level":function(n){return e.delLevel(t,s)},change:function(n){e.sForm.levels[t]=n}}})}))],2)},Do=[],Bo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"用户等级策略"+e.level,"show-enable":!1,enableSetting:e.enableSetting},on:{"update:enableSetting":[e.enableSettingChanged,function(t){e.enableSetting=t}],"update:enable-setting":function(t){e.enableSetting=t}},scopedSlots:e._u([{key:"header-buttons",fn:function(){return[n("i",{staticClass:"el-icon-delete",staticStyle:{"margin-right":"10px"},on:{click:function(t){return e.$emit("del-level")}}})]},proxy:!0}])},[n("el-form",{attrs:{"label-width":"100px","label-position":"right"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"handshake"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[e._v("连接建立时的握手时间限制。单位为秒。默认值为 4。在入站代理处理一个新连接时，在握手阶段（比如 VMess 读取头部数据，判断目标服务器地址），如果使用的时间超过这个时间，则中断该连接。")])]),n("label",[e._v("handshake")])]),n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.handshake,callback:function(t){e.$set(e.sForm,"handshake",e._n(t))},expression:"sForm.handshake"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"connIdle"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 连接空闲的时间限制。单位为秒。默认值为 300。在入站出站代理处理一个连接时，如果在 connIdle 时间内，没有任何数据被传输（包括上行和下行数据），则中断该连接。 ")]),n("label",[e._v("connIdle")])]),n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.connIdle,callback:function(t){e.$set(e.sForm,"connIdle",e._n(t))},expression:"sForm.connIdle"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"bufferSize"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 每个连接的内部缓存大小。单位为 kB。当值为 0 时，内部缓存被禁用。 "),n("p",[e._v("默认值 (V2Ray 4.4+):")]),n("ul",[n("li",[e._v("在 ARM、MIPS、MIPSLE 平台上，默认值为 "),n("code",[e._v("0")]),e._v("。")]),n("li",[e._v("在 ARM64、MIPS64、MIPS64LE 平台上，默认值为 "),n("code",[e._v("4")]),e._v("。")]),n("li",[e._v("在其它平台上，默认值为 "),n("code",[e._v("512")]),e._v("。")])]),n("p",[e._v("默认值 (V2Ray 4.3-):")]),n("ul",[n("li",[e._v("在 ARM、MIPS、MIPSLE、ARM64、MIPS64、MIPS64LE 平台上，默认值为 "),n("code",[e._v("16")]),e._v("。")]),n("li",[e._v("在其它平台上，默认值为 "),n("code",[e._v("2048")]),e._v("。")])])]),n("label",[e._v("bufferSize")])]),n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.bufferSize,callback:function(t){e.$set(e.sForm,"bufferSize",e._n(t))},expression:"sForm.bufferSize"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"uplinkOnly"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 当连接下行线路关闭后的时间限制。单位为秒。默认值为 2。当服务器（如远端网站）关闭下行连接时，出站代理会在等待 uplinkOnly 时间后中断连接。 ")]),n("label",[e._v("uplinkOnly")])]),n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.uplinkOnly,callback:function(t){e.$set(e.sForm,"uplinkOnly",e._n(t))},expression:"sForm.uplinkOnly"}})],1)],1),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"downlinkOnly"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 当连接上行线路关闭后的时间限制。单位为秒。默认值为 5。当客户端（如浏览器）关闭上行连接时，入站代理会在等待 downlinkOnly 时间后中断连接。 ")]),n("label",[e._v("downlinkOnly")])]),n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.downlinkOnly,callback:function(t){e.$set(e.sForm,"downlinkOnly",e._n(t))},expression:"sForm.downlinkOnly"}})],1)],1),n("el-col",{attrs:{span:4}},[n("el-form-item",{attrs:{label:"statsUserUplink","label-width":"140px"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 当值为 true 时，开启当前等级的所有用户的上行流量统计。 ")]),n("label",[e._v("statsUserUplink")])]),n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.statsUserUplink,callback:function(t){e.$set(e.sForm,"statsUserUplink",t)},expression:"sForm.statsUserUplink"}})],1)],1),n("el-col",{attrs:{span:4}},[n("el-form-item",{attrs:{label:"statsUserDownlink","label-width":"140px"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light",placement:"top"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 当值为 true 时，开启当前等级的所有用户的下行流量统计。 ")]),n("label",[e._v("statsUserDownlink")])]),n("el-switch",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.statsUserDownlink,callback:function(t){e.$set(e.sForm,"statsUserDownlink",t)},expression:"sForm.statsUserDownlink"}})],1)],1)],1)],1)],1)},Io=[],To={name:"LevelPolicyObject",components:{},model:{prop:"setting",event:"change"},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},methods:{fillDefaultValue:function(e){var t=this;e=e||{},Object.assign(this.sForm,e),this.$nextTick((function(){t.formChanged()}))},getSettings:function(){return this.enableSetting?Object.assign({},this.sForm):null},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))},formChanged:function(){var e=this.getSettings();null==this.setting&&null==e||(this.changedByForm=!0,this.$emit("change",e))}},computed:{},data:function(){return{sForm:{handshake:4,connIdle:300,uplinkOnly:2,downlinkOnly:5,statsUserUplink:!1,statsUserDownlink:!1,bufferSize:10240},changedByForm:!1,enableSetting:!0}},props:{setting:{type:Object},level:{type:String,default:function(){return 0}}}},Vo=To,Po=(n("4bfc"),Object(h["a"])(Vo,Bo,Io,!1,null,null,null)),Ro=Po.exports,Eo={name:"PolicyObject",components:{LevelPolicyObject:Ro},model:{prop:"setting",event:"change"},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},methods:{delLevel:function(e,t){this.levelKeys.splice(t,1),delete this.sForm.levels[e],this.formChanged()},newLevel:function(){var e=this;this.$prompt("请输入用户level值","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^\d+$/,inputErrorMessage:"用户level值不正确"}).then((function(t){var n=t.value;e.sForm.levels[n]?e.$message({type:"error",message:"用户level="+n+"定义已存在"}):(e.levelKeys.push(n),e.$set(e.sForm.levels,n,{}))}))},fillDefaultValue:function(e){var t=this;for(var n in e=e||{},e.system||e.levelKeys?this.enableSetting=!0:this.enableSetting=!1,this.levelKeys=[],Object.assign(this.sForm,e),this.sForm.levels)this.levelKeys.push(n);this.$nextTick((function(){t.formChanged()}))},getSettings:function(){return this.enableSetting?Object.assign({},this.sForm):null},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))},formChanged:function(){var e=this.getSettings();null==e&&null==this.setting||(this.changedByForm=!0,this.$emit("change",e))}},data:function(){return{levelKeys:[],sForm:{levels:{},system:{statsInboundUplink:!1,statsInboundDownlink:!1,statsOutboundUplink:!1,statsOutboundDownlink:!1}},changedByForm:!1,enableSetting:!1}},props:{setting:{type:Object}}},Lo=Eo,Uo=(n("f018"),Object(h["a"])(Lo,No,Do,!1,null,"40ac6ed0",null)),Ao=Uo.exports,Mo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"DNS服务器配置","show-enable":!0,enableSetting:e.enableSetting},on:{"update:enableSetting":[e.enableSettingChanged,function(t){e.enableSetting=t}],"update:enable-setting":function(t){e.enableSetting=t}}},[n("el-form",{ref:"form",attrs:{model:e.sForm,"label-width":"80px"}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"tag"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.tag,callback:function(t){e.$set(e.sForm,"tag",t)},expression:"sForm.tag"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"clientIp"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("当前系统的 IP 地址，用于 DNS 查询时，通知服务器客户端的所在位置。不能是私有地址。")]),n("label",[e._v("clientIp")])]),n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.clientIp,callback:function(t){e.$set(e.sForm,"clientIp",t)},expression:"sForm.clientIp"}})],1)],1),n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"hosts"}},[n("el-tooltip",{attrs:{slot:"label",effect:"light"},slot:"label"},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[e._v('静态 IP 列表，每行是格式为"域名 地址", 例如："www.baidu.com 127.0.0.1"')]),n("p",[e._v("其中地址可以是 IP 或者域名。在解析域名时，如果域名匹配这个列表中的某一项，当该项的地址为 IP 时，则解析结果为该项的 IP，而不会使用下述的 servers 进行解析；")]),n("p",[e._v("当该项的地址为域名时，会使用此域名进行 IP 解析，而不使用原始域名。")]),n("p",[e._v("域名的格式有以下几种形式：")]),n("ul",[n("li",[e._v('纯字符串：当此域名完整匹配目标域名时，该规则生效。例如 "v2ray.com" 匹配 "v2ray.com" 但不匹配 "www.v2ray.com"。 ')]),n("li",[e._v("正则表达式：由 "),n("code",[e._v('"regexp:"')]),e._v(' 开始，余下部分是一个正则表达式。当此正则表达式匹配目标域名时，该规则生效。例如 "regexp:\\\\.goo.*\\\\.com$" 匹配 "www.google.com"、"fonts.googleapis.com"，但不匹配 "google.com"。 ')]),n("li",[e._v("子域名 (推荐)：由 "),n("code",[e._v('"domain:"')]),e._v(' 开始，余下部分是一个域名。当此域名是目标域名或其子域名时，该规则生效。例如 "domain:v2ray.com" 匹配 "www.v2ray.com"、"v2ray.com"，但不匹配 "xv2ray.com"。 ')]),n("li",[e._v("子串：由 "),n("code",[e._v('"keyword:"')]),e._v(' 开始，余下部分是一个字符串。当此字符串匹配目标域名中任意部分，该规则生效。比如 "keyword:sina.com" 可以匹配 "sina.com"、"sina.com.cn" 和 "www.sina.com"，但不匹配 "sina.cn"。 ')]),n("li",[e._v("预定义域名列表：由 "),n("code",[e._v('"geosite:"')]),e._v(" 开头，余下部分是一个名称，如 "),n("code",[e._v("geosite:google")]),e._v(" 或者 "),n("code",[e._v("geosite:cn")]),e._v("。名称及域名列表参考 "),n("a",{attrs:{href:"/config/routing.html#dlc"}},[e._v("预定义域名列表")]),e._v("。 ")])])]),n("label",[e._v("主机列表")])]),n("div",{staticClass:"el-textarea"},[n("textarea",{directives:[{name:"setting",rawName:"v-setting"}],staticClass:"el-textarea__inner",staticStyle:{"min-height":"33px"},attrs:{autocomplete:"off",rows:"5",placeholder:"domain address"},domProps:{value:e.hostsValue},on:{change:function(t){return e.hostValueChange(t)}}})])],1)],1)],1)],1),n("p",[e._v(" DNS解析服务器： "),n("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.newServer}},[e._v("新增")])],1),e._l(e.sForm.servers,(function(t,s){return n("DnsServerObject",{directives:[{name:"setting",rawName:"v-setting"}],key:s,attrs:{setting:t,idx:s},on:{"del-server":e.delServer,change:function(t){return e.sForm.servers.splice(s,1,t)}}})}))],2)},Ho=[],qo=(n("498a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vnext"},[n("el-form",{staticClass:"text-left",attrs:{inline:!1,"label-width":"120px"}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"DNS地址"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.address,callback:function(t){e.$set(e.sForm,"address",t)},expression:"sForm.address"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-delete"},on:{click:function(t){return e.$emit("del-server",e.idx)}},slot:"append"})],1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"DNS端口"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.port,callback:function(t){e.$set(e.sForm,"port",e._n(t))},expression:"sForm.port"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"domains"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[e._v("一个域名列表，此列表包含的域名，将优先使用此服务器进行查询。域名格式和 路由配置 中相同。")]),n("ul",[n("li",[e._v('纯字符串：当此字符串匹配目标域名中任意部分，该规则生效。比如 "sina.com" 可以匹配 "sina.com"、"sina.com.cn" 和 "www.sina.com"，但不匹配 "sina.cn"。 ')]),n("li",[e._v("正则表达式：由 "),n("code",[e._v('"regexp:"')]),e._v(' 开始，余下部分是一个正则表达式。当此正则表达式匹配目标域名时，该规则生效。例如 "regexp:\\\\.goo.*\\\\.com$" 匹配 "www.google.com"、"fonts.googleapis.com"，但不匹配 "google.com"。 ')]),n("li",[e._v("子域名（推荐）：由 "),n("code",[e._v('"domain:"')]),e._v(' 开始，余下部分是一个域名。当此域名是目标域名或其子域名时，该规则生效。例如 "domain:v2ray.com" 匹配 "www.v2ray.com"、"v2ray.com"，但不匹配 "xv2ray.com"。 ')]),n("li",[e._v("完整匹配：由 "),n("code",[e._v('"full:"')]),e._v(' 开始，余下部分是一个域名。当此域名完整匹配目标域名时，该规则生效。例如 "full:v2ray.com" 匹配 "v2ray.com" 但不匹配 "www.v2ray.com"。 ')]),n("li",[e._v("预定义域名列表：由 "),n("code",[e._v('"geosite:"')]),e._v(" 开头，余下部分是一个名称，如 "),n("code",[e._v("geosite:google")]),e._v(" 或者 "),n("code",[e._v("geosite:cn")]),e._v("。名称及域名列表参考 "),n("a",{attrs:{target:"_blank",href:"https://www.v2fly.org/config/routing.html#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E5%88%97%E8%A1%A8"}},[e._v("预定义域名列表")]),e._v("。 ")]),n("li",[e._v("从文件中加载域名：形如 "),n("code",[e._v('"ext:file:tag"')]),e._v("，必须以 "),n("code",[e._v("ext:")]),e._v("（小写）开头，后面跟文件名和标签，文件存放在 "),n("a",{attrs:{target:"_blank",href:"https://www.v2fly.org/config/env.html#资源文件路径"}},[e._v("资源目录")]),e._v(" 中，文件格式与 "),n("code",[e._v("geosite.dat")]),e._v(" 相同，标签必须在文件中存在。 ")])])]),n("label",[e._v("domains:")])])]},proxy:!0}])},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{type:"textarea",rows:"3",placeholder:"domains"},model:{value:e.domainValue,callback:function(t){e.domainValue=t},expression:"domainValue"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"expectIPs:"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",{attrs:{effect:"light"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[e._v("（V2Ray 4.22.0+）一个 IP 范围列表，格式和 路由配置 中相同。")]),n("p",[e._v("当配置此项时，V2Ray DNS 会对返回的 IP 的进行校验，只返回包含 expectIPs 列表中的地址。")]),n("p",[e._v("如果未配置此项，会原样返回 IP 地址。")]),n("ul",[n("li",[e._v("IP：形如 "),n("code",[e._v('"127.0.0.1"')]),e._v("。")]),n("li",[n("a",{attrs:{href:"https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing",target:"_blank",rel:"noopener noreferrer"}},[e._v("CIDR "),n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})])]),e._v("：形如 "),n("code",[e._v('"10.0.0.0/8"')]),e._v("。 ")]),n("li",[e._v("GeoIP：形如 "),n("code",[e._v('"geoip:cn"')]),e._v("，必须以 "),n("code",[e._v("geoip:")]),e._v("（小写）开头，后面跟双字符国家代码，支持几乎所有可以上网的国家。 "),n("ul",[n("li",[e._v("特殊值："),n("code",[e._v('"geoip:private"')]),e._v("（V2Ray 3.5+），包含所有私有地址，如 "),n("code",[e._v("127.0.0.1")]),e._v("。 ")])])]),n("li",[e._v("从文件中加载 IP：形如 "),n("code",[e._v('"ext:file:tag"')]),e._v("，必须以 "),n("code",[e._v("ext:")]),e._v("（小写）开头，后面跟文件名和标签，文件存放在 "),n("a",{attrs:{href:"/config/env.html#资源文件路径"}},[e._v("资源目录")]),e._v(" 中，文件格式与 "),n("code",[e._v("geoip.dat")]),e._v(" 相同标签必须在文件中存在。 ")])])]),n("label",[e._v("expectIPs:")])])]},proxy:!0}])},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{type:"textarea",rows:"3",placeholder:"expectIPs"},model:{value:e.ipValue,callback:function(t){e.ipValue=t},expression:"ipValue"}})],1)],1)],1)],1)],1)}),zo=[],Go={name:"DnsServerObject",model:{prop:"setting",event:"change"},methods:{getSettings:function(){return"53"==this.sForm.port&&0==this.sForm.domains.length&&0==this.sForm.expectIPs.length?""+this.sForm.address:Object.assign({},this.sForm)},formChanged:function(){this.changedByForm=!0,this.$emit("change",this.getSettings())},fillDefaultValue:function(e){var t=this;"string"===typeof e&&(e={address:e}),Object.assign(this.sForm,e),this.$nextTick().then((function(){t.formChanged()}))}},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},data:function(){return{changedByForm:!1,sForm:{address:"",port:53,domains:[],expectIPs:[]}}},props:{setting:{default:function(){return""}},idx:{type:Number}},computed:{domainValue:{get:function(){return this.sForm.domains?this.sForm.domains.join("\n"):""},set:function(e){this.sForm.domains=""!=e?e.split("\n"):[]}},ipValue:{get:function(){return this.sForm.expectIPs?this.sForm.expectIPs.join("\n"):""},set:function(e){this.sForm.expectIPs=""!=e?e.split("\n"):[]}}}},Ko=Go,Jo=(n("220e"),Object(h["a"])(Ko,qo,zo,!1,null,"f70c7202",null)),Wo=Jo.exports,Qo={name:"DnsSetting",model:{prop:"setting",event:"change"},components:{DnsServerObject:Wo},created:function(){var e=this.setting||{};Object.assign(this.sForm,e),this.formChanged()},mounted:function(){},watch:{setting:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)}},methods:{newServer:function(){this.sForm.servers.push({})},delServer:function(e){this.sForm.servers.splice(e,1)},hostValueChange:function(e){var t=this,n=e.currentTarget.value;n=n.trim();var s=n.split(/[\r\n]+/);this.hosts=[],s.forEach((function(e){var n=e.trim().split(/ +/);n.length<2||t.hosts.push({domain:n[0],address:n[1]})}))},fillDefaultValue:function(e){var t=this;e=e||{},e.tag?this.enableSetting=!0:this.enableSetting=!1,Object.assign(this.sForm,e);var n=this.sForm.hosts||{};for(var s in this.hosts=[],n)this.hosts.push({domain:s,address:n[s]});this.$nextTick().then((function(){t.formChanged()}))},getSettings:function(){var e=this;return this.enableSetting?(this.sForm.hosts={},this.hosts.forEach((function(t){e.sForm.hosts[t.domain]=t.address})),Object.assign({},this.sForm)):null},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))},formChanged:function(){this.enableSetting?this.$store.commit("setDnsTag",this.sForm.tag):this.$store.commit("setDnsTag",null);var e=this.getSettings();e!==this.setting&&(this.changedByForm=!0,this.$emit("change",e))}},computed:{hostsValue:{set:function(e){var t=this;e=e.trim();var n=e.split(/[\r\n]+/);this.hosts=[],n.forEach((function(e){var n=e.trim().split(/ +/);n.length<2||t.hosts.push({domain:n[0],address:n[1]})}))},get:function(){var e=[];return this.hosts.forEach((function(t){e.push(t.domain+" "+t.address)})),e.join("\n")}}},data:function(){return{sForm:{hosts:{},servers:[],clientIp:"1.2.3.4",tag:"dns_inbound"},hosts:[],servers:[],changedByForm:!1,enableSetting:!1}},props:{setting:{type:Object}}},Xo=Qo,Yo=(n("ef9e"),Object(h["a"])(Xo,Mo,Ho,!1,null,"5e4c524a",null)),Zo=Yo.exports,ei=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("setting-card",{attrs:{title:"Admin管理台设置","show-enable":!0,enableSetting:e.enableSetting},on:{"update:enableSetting":[e.enableSettingChanged,function(t){e.enableSetting=t}],"update:enable-setting":function(t){e.enableSetting=t}}},[n("el-form",{ref:"form",attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"监听端口"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("监听端口可以只配置端口或者指定为监听ip+端口形式")]),n("label",[e._v("监听端口")])])]},proxy:!0}])},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.addr,callback:function(t){e.$set(e.sForm,"addr",t)},expression:"sForm.addr"}})],1),n("el-form-item",{attrs:{label:"contextPath"},scopedSlots:e._u([{key:"label",fn:function(){return[n("el-tooltip",[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("admin web前缀路径")]),n("label",[e._v("contextPath")])])]},proxy:!0}])},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],model:{value:e.sForm.contextPath,callback:function(t){e.$set(e.sForm,"contextPath",t)},expression:"sForm.contextPath"}})],1),n("el-form-item",{attrs:{label:"publicPath"}},[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"应用静态资源文件路径"},model:{value:e.sForm.publicPath,callback:function(t){e.$set(e.sForm,"publicPath",t)},expression:"sForm.publicPath"}})],1)],1),n("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.sForm.accounts}},[n("el-table-column",{attrs:{label:"op",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-delete",on:{click:function(n){return e.delUser(t.$index)}}})]}}])},[n("template",{slot:"header"},[n("i",{staticClass:"el-icon-plus",attrs:{type:"primary"},on:{click:e.newUser}})])],2),n("el-table-column",{attrs:{prop:"userName",label:"userName"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"userName"},model:{value:t.row.userName,callback:function(n){e.$set(t.row,"userName",n)},expression:"scope.row.userName"}})]}}])}),n("el-table-column",{attrs:{prop:"password",label:"password"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-input",{directives:[{name:"setting",rawName:"v-setting"}],attrs:{placeholder:"password"},model:{value:t.row.password,callback:function(n){e.$set(t.row,"password",n)},expression:"scope.row.password"}})]}}])})],1)],1)},ti=[],ni={name:"AdminSetting",model:{prop:"setting",event:"change"},data:function(){return{enableSetting:!0,changedByForm:!1,sForm:{addr:":8035",contextPath:"/v2ray",publicPath:"../public/dist",accounts:[]}}},created:function(){this.fillDefaultValue(this.setting)},mounted:function(){},methods:{newUser:function(){this.sForm.accounts.push({userName:"",password:""})},delUser:function(e){this.sForm.accounts.splice(e,1)},enableSettingChanged:function(){var e=this;this.$nextTick((function(){e.formChanged()}))},fillDefaultValue:function(e){var t=this;e=e||{},Object.assign(this.sForm,e),this.$nextTick().then((function(){t.formChanged()}))},formChanged:function(){var e=this.getSettings();this.setting!==e&&(this.changedByForm=!0,this.$emit("change",e))},getSettings:function(){return Object.assign({},this.sForm)}},watch:{setting:{handler:function(e){this.changedByForm?this.changedByForm=!1:this.fillDefaultValue(e)},deep:!1}},props:{setting:{type:Object}}},si=ni,oi=(n("e0dd"),Object(h["a"])(si,ei,ti,!1,null,"62f28810",null)),ii=oi.exports,ai=(n("d3b7"),n("25f0"),n("d4ec")),ri=n("bee2"),li=n("bc3a"),ci=n.n(li);function ui(){var e=localStorage.getItem("baseURL")||"http://localhost:8035/v2ray";return e}var mi=localStorage.getItem("api_auth");if(mi)try{ci.a.defaults.auth=JSON.parse(mi)}catch(Xi){console.log("解析apiAuth失败：",Xi.toString())}ci.a.defaults.baseURL=ui(),ci.a.interceptors.response.use((function(e){return e}),(function(e){return e.response&&"401"==e.response.status&&pi.openLoginForm(),Promise.reject(e)}));var di=function(){function e(){Object(ai["a"])(this,e)}return Object(ri["a"])(e,[{key:"post",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,n){var s,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=o.length>2&&void 0!==o[2]?o[2]:{},e.prev=1,e.next=4,ci.a.post(t,n,s);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e["catch"](1),e.abrupt("return",{status:500,statusText:e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"get",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ci.a.get(t,n);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",{status:500,statusText:e.t0.toString()});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setBaseURL",value:function(e){ci.a.defaults.baseURL=e,localStorage.setItem("baseURL",e)}},{key:"getBaseURL",value:function(){return ui()}},{key:"openLoginForm",value:function(){}},{key:"setAuth",value:function(e,t){e?(ci.a.defaults.auth={username:e,password:t},localStorage.setItem("api_auth",JSON.stringify(ci.a.defaults.auth))):(delete ci.a.defaults.auth,localStorage.removeItem("api_auth"))}}]),e}(),pi=function(){var e=null;return function(){return null==e&&(e=new di),e}}()(),fi=pi,hi={getConfig:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={bSuccess:!0,msg:""},e.next=3,fi.get("/api/server/config");case 3:return n=e.sent,200!==n.status?(t.bSuccess=!1,t.msg="http调用失败:"+n.statusText):(t.bSuccess=!0,t.data=n.data),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))()},updateConfig:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={bSuccess:!0,msg:""},t.next=3,fi.post("/api/server/config",JSON.stringify(e,null,2));case 3:return s=t.sent,200!==s.status?(n.bSuccess=!1,n.msg="http调用失败:"+s.statusText):n.bSuccess=!0,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))()},reloadServer:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={bSuccess:!0,msg:""},e.next=3,fi.get("/api/server/reload");case 3:return n=e.sent,200!==n.status?(t.bSuccess=!1,t.msg="http调用失败:"+n.statusText):t.bSuccess=!0,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))()}};s["default"].component(v.name,v),s["default"].directive("setting",{bind:function(e,t,n){n.componentInstance?n.componentInstance.$on("change",(function(){n.context.formChanged&&n.context.formChanged()})):n.elm&&(n.elm.onchange=function(){n.context.formChanged&&n.context.formChanged()})}});var gi={name:"Home",data:function(){return{dialogVisible:!1,configJson:"",baseURL:"http://localhost:8089/v2ray",sForm:{log:{access:"",error:"",loglevel:"warning"},api:{tag:"api",services:["HandlerService","LoggerService","StatsService"]},admin:null,dns:null,inbounds:[],outbounds:[],routing:{},policy:null,reverse:null,transport:null}}},created:function(){this.loadSetting(),this.baseURL=fi.getBaseURL()},components:{LogSetting:$,ApiSetting:B,Inbounds:Yt,Outbounds:Js,Routing:vo,Reverse:ko,GlobalTransport:jo,PolicyObject:Ao,DnsSetting:Zo,AdminSetting:ii},methods:{foldAllSetting:function(){console.log("foldAllSetting begin"),this.$children.forEach((function(e){e.$attrs["data-setting"]&&(e.$children[0].showSetting=!1)})),console.log("foldAllSetting end")},unfoldAllSetting:function(){this.$children.forEach((function(e){e.$attrs["data-setting"]&&(e.$children[0].showSetting=!0)}))},updateBaseURL:function(){fi.setBaseURL(this.baseURL),this.$message.success("设置api接口地址前缀成功")},showSetting:function(){this.configJson=JSON.stringify(this.sForm,null,2),this.dialogVisible=!0},loadSetting:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,hi.getConfig();case 2:n=t.sent,n.bSuccess?(Object.assign(e.sForm,n.data),e.$message.success("读取服务器配置成功")):e.$message.error(n.msg);case 4:case"end":return t.stop()}}),t)})))()},saveSetting:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,hi.updateConfig(e.sForm);case 2:n=t.sent,n.bSuccess?e.$message.success("保存配置成功"):e.$message.error(n.msg);case 4:case"end":return t.stop()}}),t)})))()},reloadServer:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,hi.reloadServer(e.sForm);case 2:n=t.sent,n.bSuccess?e.$message.success("reload配置成功"):e.$message.error(n.msg);case 4:case"end":return t.stop()}}),t)})))()},updateSetting:function(){this.sForm=JSON.parse(this.configJson),console.log(this.configJson)},logChanged:function(e){console.log(e)}},computed:{configSetting:function(){return JSON.stringify(this.sForm,null,2)}}},vi=gi,bi=(n("cccb"),Object(h["a"])(vi,a,r,!1,null,null,null)),Fi=bi.exports,wi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{attrs:{inline:!0}},[n("el-form-item",{attrs:{label:"自动刷新"}},[n("el-switch",{on:{change:e.autoRefreshChanged},model:{value:e.autoRefresh,callback:function(t){e.autoRefresh=t},expression:"autoRefresh"}})],1),n("el-form-item",[n("el-input",{attrs:{placeholder:"输入关键字过滤"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.counters.filter((function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())})),"default-sort":{prop:"value",order:"descending"}}},[n("el-table-column",{attrs:{prop:"name",sortable:"",label:"name"}}),n("el-table-column",{attrs:{prop:"value",sortable:"",label:"value",formatter:e.trafficFormatter,width:"180"}}),n("el-table-column",{attrs:{prop:"rate",sortable:"",label:"rate",formatter:e.trafficFormatter,width:"180"}})],1)],1)},yi=[],Si=(n("b680"),{listCounters:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={bSuccess:!0,msg:""},e.next=3,fi.get("/api/stats");case 3:return n=e.sent,200!==n.status?(t.bSuccess=!1,t.msg="http调用失败:"+n.statusText):(t.bSuccess=!0,t.data=n.data),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))()}}),ki={name:"TrafficMonitor",data:function(){return{search:"",autoRefresh:!0,bPauseRefresh:!1,counters:[]}},created:function(){this.query()},destroyed:function(){this.queryInterval&&(clearInterval(this.queryInterval),delete this.queryInterval)},methods:{trafficFormatter:function(e,t,n){return n/1024<1?n:n/1024/1024<1?(n/1024).toFixed(3)+"K":n/1024/1024/1024<1?(n/1024/1024).toFixed(3)+"M":(n/1024/1024/1024).toFixed(3)+"G"},autoRefreshChanged:function(){this.autoRefresh&&!this.bPauseRefresh?this.startAutoRefresh():this.stopAutoRefresh()},pauseRefresh:function(e){this.bPauseRefresh=e,this.autoRefreshChanged()},stopAutoRefresh:function(){this.queryInterval&&(clearInterval(this.queryInterval),delete this.queryInterval)},startAutoRefresh:function(){var e=this;this.stopAutoRefresh(),this.queryInterval=setInterval((function(){e.query()}),1e3)},query:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Si.listCounters();case 2:n=t.sent,n.bSuccess&&(e.counters=n.data.rows);case 4:case"end":return t.stop()}}),t)})))()}}},xi=ki,_i=Object(h["a"])(xi,wi,yi,!1,null,"3e7bcb03",null),$i=_i.exports,Ci=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{attrs:{inline:!0}},[n("el-form-item",{attrs:{label:"自动加载"}},[n("el-switch",{on:{change:e.autoRefreshChanged},model:{value:e.autoRefresh,callback:function(t){e.autoRefresh=t},expression:"autoRefresh"}})],1),n("el-form-item",[n("el-button",{on:{click:function(t){e.contents=[],e.from=0,e.loadLogContent()}}},[e._v("头部")]),n("el-button",{on:{click:function(t){e.contents=[],e.from=-1,e.loadLogContent()}}},[e._v("尾部")]),n("el-button",{on:{click:e.loadLogContent}},[e._v("加载更多")])],1)],1),e._l(e.contents,(function(t,s){return n("pre",{key:s},[e._v(e._s(t))])}))],2)},Oi=[],ji={loadLogContent:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,s,o,i,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.logType,s=void 0===n?"access":n,o=e.from,i=void 0===o?-1:o,a={bSuccess:!0,msg:""},t.next=4,fi.get("/api/log?logType=".concat(s,"&from=").concat(i));case 4:return r=t.sent,200!==r.status?(a.bSuccess=!1,a.msg="http调用失败:"+r.statusText):(a.bSuccess=!0,a.data=r.data),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))()}},Ni={name:"LogViewer",data:function(){return{from:-1,contents:[],autoRefresh:!0,bPauseRefresh:!1}},created:function(){this.loadLogContent()},destroyed:function(){this.queryInterval&&(clearInterval(this.queryInterval),delete this.queryInterval)},methods:{autoRefreshChanged:function(){this.autoRefresh&&!this.bPauseRefresh?this.startAutoRefresh():this.stopAutoRefresh()},pauseRefresh:function(e){this.bPauseRefresh=e,this.autoRefreshChanged()},stopAutoRefresh:function(){this.queryInterval&&(clearInterval(this.queryInterval),delete this.queryInterval)},startAutoRefresh:function(){var e=this;this.stopAutoRefresh(),this.queryInterval=setInterval((function(){e.loadLogContent()}),1e3)},loadLogContent:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ji.loadLogContent({logType:e.logType,from:e.from});case 2:n=t.sent,n.bSuccess?(n.data.content&&e.contents.push(n.data.content),e.from=n.data.lastPos):e.$message.error(n.msg);case 4:case"end":return t.stop()}}),t)})))()}},props:{logType:{type:String,default:"access"}}},Di=Ni,Bi=(n("dfc3"),Object(h["a"])(Di,Ci,Oi,!1,null,"49f47b80",null)),Ii=Bi.exports,Ti=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{attrs:{inline:!1,"label-position":"right","label-width":"120px"}},[n("el-form-item",{attrs:{label:"PAC地址"}},[n("label",[e._v(e._s(e.pacUrl))])]),n("el-form-item",{attrs:{label:"proxy地址"}},[n("el-input",{attrs:{title:"代理地址，格式为: PROXY localhost:10809;SOCK5 localhost:10808;SOCKS 127.0.0.1:1080; DIRECT;",placeholder:"代理地址，格式为: PROXY localhost:10809;SOCK5 localhost:10808;SOCKS 127.0.0.1:1080; DIRECT;"},model:{value:e.config.proxy,callback:function(t){e.$set(e.config,"proxy",t)},expression:"config.proxy"}})],1),n("el-form-item",{attrs:{label:"下载代理"}},[n("el-input",{attrs:{placeholder:"下载gfwlist文件，geosite,geoip文件时使用的http代理地址, http://localhost:20809"},model:{value:e.config.gfwProxy,callback:function(t){e.$set(e.config,"gfwProxy",t)},expression:"config.gfwProxy"}})],1),n("el-form-item",{attrs:{label:"自定义规则"}},[n("el-input",{attrs:{type:"textarea",rows:"8"},model:{value:e.config.userRule,callback:function(t){e.$set(e.config,"userRule",t)},expression:"config.userRule"}})],1),n("el-form-item",[n("el-button",{on:{click:e.downloadGfwList}},[e._v("更新GFWList")]),n("el-button",{on:{click:e.downloadGeoDat}},[e._v("更新geo文件")]),n("el-button",{on:{click:e.savePac}},[e._v("保存PAC配置")]),n("el-button",{on:{click:e.viewPacContent}},[e._v("查看PAC文件")])],1)],1),n("el-dialog",{attrs:{visible:e.dialogVisible,title:"PAC内容",center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-input",{attrs:{type:"textarea",placeholder:"placeholder",rows:"10"},model:{value:e.pacContent,callback:function(t){e.pacContent=t},expression:"pacContent"}}),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关闭")])],1)],1)],1)},Vi=[],Pi={getPacContent:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={bSuccess:!0,msg:""},e.next=3,fi.get("/api/pac");case 3:return n=e.sent,200!==n.status?(t.bSuccess=!1,t.msg="http调用失败:"+n.statusText):(t.bSuccess=!0,t.data=n.data),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))()},savePac:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={bSuccess:!0,msg:""},t.next=3,fi.post("/api/pac/save",e);case 3:return s=t.sent,200!==s.status?(n.bSuccess=!1,n.msg="http调用失败:"+s.statusText):(n.bSuccess=!0,n.data=s.data),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))()},downloadGfwList:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={bSuccess:!0,msg:""},t.next=3,fi.post("/api/pac/gfwlist/download",e);case 3:return s=t.sent,200!==s.status?(n.bSuccess=!1,n.msg="http调用失败:"+s.statusText):(n.bSuccess=!0,n.data=s.data),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))()},downloadGeoDat:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={bSuccess:!0,msg:""},t.next=3,fi.post("/api/pac/geodat/download",e);case 3:return s=t.sent,200!==s.status?(n.bSuccess=!1,n.msg="http调用失败:"+s.statusText):(n.bSuccess=!0,n.data=s.data),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))()},loadConfig:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={bSuccess:!0,msg:""},e.next=3,fi.get("/api/pac/config");case 3:return n=e.sent,200!==n.status?(t.bSuccess=!1,t.msg="http调用失败:"+n.statusText):(t.bSuccess=!0,t.data=n.data),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))()}},Ri={name:"TrafficMonitor",data:function(){return{pacUrl:fi.getBaseURL()+"/api/pac",pacContent:"",dialogVisible:!1,config:{proxy:"",userRule:"",gfwProxy:""}}},created:function(){this.loadConfig()},destroyed:function(){},methods:{loadConfig:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Pi.loadConfig();case 2:n=t.sent,n.bSuccess?Object.assign(e.config,n.data):e.$message.error(n.msg);case 4:case"end":return t.stop()}}),t)})))()},downloadGfwList:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Pi.downloadGfwList(e.config);case 2:n=t.sent,n.bSuccess?e.$message.success("更新gfwlist成功"):e.$message.error(n.msg);case 4:case"end":return t.stop()}}),t)})))()},downloadGeoDat:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Pi.downloadGeoDat(e.config);case 2:n=t.sent,n.bSuccess?e.$message.success("更新geosite.dat,geoip.dat成功"):e.$message.error(n.msg);case 4:case"end":return t.stop()}}),t)})))()},savePac:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Pi.savePac(e.config);case 2:n=t.sent,n.bSuccess?e.$message.success("保存pac配置成功"):e.$message.error(n.msg);case 4:case"end":return t.stop()}}),t)})))()},viewPacContent:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Pi.getPacContent();case 2:n=t.sent,n.bSuccess?(e.pacContent=n.data,e.dialogVisible=!0):e.$message.error(n.msg);case 4:case"end":return t.stop()}}),t)})))()}}},Ei=Ri,Li=Object(h["a"])(Ei,Ti,Vi,!1,null,"1a3b0d4a",null),Ui=Li.exports,Ai={name:"App",components:{Home:Fi,TrafficMonitor:$i,LogViewer:Ii,PacConfig:Ui},data:function(){return{tagValue:"config",dialogVisible:!1,loginForm:{userName:"",password:""}}},created:function(){var e=this;fi.openLoginForm=function(){e.dialogVisible=!0}},methods:{doLogin:function(){""!=this.loginForm.userName?""!=this.loginForm.password?(fi.setAuth(this.loginForm.userName,this.loginForm.password),this.dialogVisible=!1):this.$message.error("请输入密码"):this.$message.error("请输入用户名")},tabChanged:function(){this.$refs.tabs.panes.forEach((function(e){var t=e.$children[0];"function"===typeof t.pauseRefresh&&t.pauseRefresh(!e.active)}))}}},Mi=Ai,Hi=(n("034f"),Object(h["a"])(Mi,o,i,!1,null,null,null)),qi=Hi.exports,zi=(n("0fae"),n("9e2f")),Gi=n.n(zi);function Ki(e){var t=[],n={};return e.forEach((function(e){"undefined"===typeof n[e]&&(n[e]=e,t.push(e))})),t}s["default"].use(Gi.a),s["default"].use(ao["a"]);var Ji=new ao["a"].Store({state:{inboundTags:[],bridgeTags:[],portalTags:[],outboundTags:[],apiTag:null,balancersTag:[],dnsTag:null},mutations:{setInboundTags:function(e,t){e.inboundTags=t},setDnsTag:function(e,t){e.dnsTag=t},setOutboundTags:function(e,t){e.outboundTags=t},setBridgeTags:function(e,t){e.bridgeTags=t},setPortalTags:function(e,t){e.portalTags=t},setApiTag:function(e,t){e.apiTag=t},setBalancersTag:function(e,t){e.balancersTag=t}},actions:{},getters:{getAllInboundTags:function(e){var t,n=(t=[]).concat.apply(t,Object(tn["a"])(e.inboundTags));return e.bridgeTags&&n.push.apply(n,Object(tn["a"])(e.bridgeTags)),e.dnsTag&&n.push(e.dnsTag),Ki(n)},getAllOutboundTags:function(e){var t=[];return e.apiTag&&t.push(e.apiTag),t.push.apply(t,Object(tn["a"])(e.outboundTags)),e.portalTags&&t.push.apply(t,Object(tn["a"])(e.portalTags)),Ki(t)},getBalancersTag:function(e){return Ki(e.balancersTag)}},modules:{}}),Wi=n("2ef0"),Qi=n.n(Wi);s["default"].prototype._=Qi.a,s["default"].config.productionTip=!1,new s["default"]({store:Ji,render:function(e){return e(qi)}}).$mount("#app")},"5ced":function(e,t,n){},"5ff4":function(e,t,n){"use strict";var s=n("6627"),o=n.n(s);o.a},6627:function(e,t,n){},"66b7":function(e,t,n){"use strict";var s=n("86d5"),o=n.n(s);o.a},"6c26":function(e,t,n){"use strict";var s=n("18a9"),o=n.n(s);o.a},7668:function(e,t,n){"use strict";var s=n("2ebe"),o=n.n(s);o.a},8353:function(e,t,n){"use strict";var s=n("4ca3"),o=n.n(s);o.a},"85ec":function(e,t,n){},8644:function(e,t,n){"use strict";var s=n("5140"),o=n.n(s);o.a},"86d5":function(e,t,n){},"973b":function(e,t,n){"use strict";var s=n("0ca0"),o=n.n(s);o.a},"9a32":function(e,t,n){"use strict";var s=n("b0cc"),o=n.n(s);o.a},"9ff4":function(e,t,n){},a205:function(e,t,n){},a3be:function(e,t,n){},af43:function(e,t,n){},b0cc:function(e,t,n){},c659:function(e,t,n){"use strict";var s=n("1d61"),o=n.n(s);o.a},cccb:function(e,t,n){"use strict";var s=n("5ced"),o=n.n(s);o.a},d8f6:function(e,t,n){"use strict";var s=n("1e4b"),o=n.n(s);o.a},dfc3:function(e,t,n){"use strict";var s=n("0437"),o=n.n(s);o.a},e0dd:function(e,t,n){"use strict";var s=n("a3be"),o=n.n(s);o.a},e844:function(e,t,n){},ef21:function(e,t,n){"use strict";var s=n("e844"),o=n.n(s);o.a},ef9e:function(e,t,n){"use strict";var s=n("af43"),o=n.n(s);o.a},f018:function(e,t,n){"use strict";var s=n("2be4"),o=n.n(s);o.a},f57e:function(e,t,n){},f728:function(e,t,n){"use strict";var s=n("f57e"),o=n.n(s);o.a},f81d:function(e,t,n){}});
//# sourceMappingURL=app.12d20a56.js.map